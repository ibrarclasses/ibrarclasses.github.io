<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stationery Mall | Ibrar Classes</title>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TF3YZ5NPGL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TF3YZ5NPGL');
</script>

  <!-- ‚úÖ COMPLETE SEO + SOCIAL META TAGS FOR STATIONERY MALL -->
<meta name="description" content="Stationery Mall by Ibrar Classes ‚Äî India's one-stop online destination for books, notebooks, pens, and affordable stationery items from trusted sites like Amazon, Flipkart, and Meesho. Find the best school, college, and office supplies hand-picked for quality and value.">
<meta name="keywords" content="stationery mall, ibrar classes, upsc, ssc, aspirants, buy stationery online, notebooks, books, pens, school supplies, flipkart stationery, amazon stationery, meesho stationery, office stationery, best stationery deals, cheap stationery india, student supplies, drawing materials, study materials, exam books, educational products">
<meta name="author" content="Ibrar Classes">
<meta name="robots" content="index, follow">
<meta name="language" content="English">
<meta name="revisit-after" content="7 days">
<link rel="canonical" href="https://ibrarclasses.github.io/">

<!-- ‚úÖ OPEN GRAPH (FACEBOOK / WHATSAPP / LINKEDIN) -->
<meta property="og:title" content="Stationery Mall | Ibrar Classes">
<meta property="og:description" content="Curated stationery and study materials from Amazon, Flipkart & Meesho ‚Äî to save and buy smarter.">
<meta property="og:image" content="https://ibrarclasses.github.io/logost.png">
<meta property="og:url" content="https://ibrarclasses.github.io/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Stationery Mall">

<!-- ‚úÖ TWITTER CARD (X.COM) -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Stationery Mall | Ibrar Classes">
<meta name="twitter:description" content="Shop books, notebooks, and stationery online ‚Äî best deals from trusted sites curated by Ibrar Classes.">
<meta name="twitter:image" content="https://ibrarclasses.github.io/logost.png">

<!-- ‚úÖ LOCAL & MOBILE OPTIMIZATION -->
<meta name="theme-color" content="#10B981">
<meta name="format-detection" content="telephone=no">
<meta name="HandheldFriendly" content="true">
<meta name="MobileOptimized" content="width">

<!-- ‚úÖ STRUCTURED DATA (Rich Snippet for Brand) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Stationery Mall",
  "url": "https://ibrarclasses.github.io/",
  "logo": "https://ibrarclasses.github.io/logost.png",
  "sameAs": [
    "https://www.youtube.com/@ibrarclasses",
    "https://t.me/M1ssMolly_Bot"
  ],
  "description": "Stationery Mall by Ibrar Classes ‚Äî curated online stationery and books collection from Amazon, Flipkart & Meesho.",
  "founder": "Ibrar Classes"
}
</script>
<!-- ‚úÖ END OF SEO TAGS -->

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    /* ====== BASIC / THEME ====== */
    /* ====== PREMIUM DARK MODE (TELEGRAM-INSPIRED) ====== */
:root {
  /* Keep your existing light mode variables */
  --primary: #3B82F6;
  --accent: #10B981;
  --nav: linear-gradient(135deg, #10B981, #1486a5);
  --bg: #F0F4F8;
  --card: #ffffff;
  --text: #1F2937;
  --filter-width: 240px;
  --fluid-min-width: 320;
  --fluid-max-width: 1200;
  --fluid-screen: 100vw;
  --fluid-bp: calc(
    (var(--fluid-screen) - var(--fluid-min-width) / 16 * 1rem) /
    (var(--fluid-max-width) - var(--fluid-min-width))
  );
  --menu-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  --menu-gradient: linear-gradient(135deg, var(--primary), var(--accent));
  
  /* Dark mode variables (Telegram-inspired) */
  --dark-bg: #1a1f2e;
  --dark-surface: #232b3a;
  --dark-elevated: #2c3445;
  --dark-card: #1e2430;
  --dark-border: rgba(255, 255, 255, 0.08);
  --dark-text-primary: #e6eefc;
  --dark-text-secondary: #a8b3cf;
  --dark-accent: #4a9eff;
  --dark-accent-hover: #6ba3ff;
  --dark-nav: #1c2333;
  --dark-shadow: rgba(0, 0, 0, 0.24);
  --dark-glow: rgba(74, 158, 255, 0.15);
}

/* Premium dark mode implementation */
.dark-mode {
  --primary: #4a9eff;
  --accent: #34d399;
  --nav: linear-gradient(135deg, #1c2333, #232b3a);
  --bg: var(--dark-bg);
  --card: var(--dark-card);
  --text: var(--dark-text-primary);
  --menu-shadow: 0 10px 30px var(--dark-shadow);
  --menu-gradient: linear-gradient(135deg, #1c2333, #2c3445);
}

/* Enhanced dark mode for specific elements */
.dark-mode body {
  background-color: var(--dark-bg);
  background-image: none;
  color: var(--dark-text-primary);
}

.dark-mode header {
  background: linear-gradient(135deg, #1c2333, #232b3a);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.dark-mode nav {
  background: var(--dark-nav);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.dark-mode .nav-branding span {
  color: var(--dark-text-primary);
}

.dark-mode .ticker {
  background: linear-gradient(90deg, #1c2333, #232b3a);
  border-top: 2px solid var(--dark-border);
  border-bottom: 2px solid var(--dark-border);
}

.dark-mode #live-datetime {
  background: rgba(35, 43, 58, 0.9);
  color: var(--dark-text-primary);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}

.dark-mode .container, 
.dark-mode .filters, 
.dark-mode .main {
  background: var(--dark-surface);
  color: var(--dark-text-primary);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.dark-mode .filters {
  background: var(--dark-surface);
  border: 1px solid var(--dark-border);
}

.dark-mode .product-card {
  background: var(--dark-card);
  color: var(--dark-text-primary);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
  border: 1px solid var(--dark-border);
}

.dark-mode .product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
}

.dark-mode .carousel-card {
  background: var(--dark-card);
  color: var(--dark-text-primary);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
  border: 1px solid var(--dark-border);
}

.dark-mode .carousel-content h3 {
  color: var(--dark-text-primary);
}

.dark-mode .carousel-content p {
  color: var(--dark-text-secondary);
}

.dark-mode .price {
  color: var(--dark-accent);
}

.dark-mode .buy-btn {
  background: linear-gradient(135deg, var(--dark-accent), #3a8ce6);
  box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);
}

.dark-mode .buy-btn:hover {
  background: linear-gradient(135deg, var(--dark-accent-hover), #4a9eff);
  box-shadow: 0 6px 18px rgba(74, 158, 255, 0.4);
}

.dark-mode .buy-btn::after {
  background: rgba(255, 255, 255, 0.1);
}

.dark-mode .carousel-buy-btn {
  background: linear-gradient(135deg, var(--dark-accent), #3a8ce6);
}

.dark-mode .carousel-buy-btn:hover {
  background: linear-gradient(135deg, var(--dark-accent-hover), #4a9eff);
}

.dark-mode .info-box {
  background: var(--dark-surface);
  color: var(--dark-text-primary);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  border: 1px solid var(--dark-border);
}

.dark-mode .info-box h2 {
  color: var(--dark-accent);
}

.dark-mode .info-box details summary {
  color: var(--dark-accent);
}

.dark-mode footer {
  background: var(--dark-nav);
  border-top: 1px solid var(--dark-border);
}

.dark-mode #searchInput {
  background: var(--dark-card);
  color: var(--dark-text-primary);
}

.dark-mode #searchBarContainer {
  background: linear-gradient(135deg, #2c3445, #1c2333);
}

.dark-mode .carousel-btn {
  background: var(--dark-accent);
}

.dark-mode .carousel-btn:hover {
  background: var(--dark-accent-hover);
}

.dark-mode .indicator.active {
  background: var(--dark-accent);
}

.dark-mode .share-card {
  background: linear-gradient(135deg, #2c3445, #1c2333);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
}

.dark-mode #shareBtn {
  background: var(--dark-accent);
  color: white;
}

.dark-mode #shareBtn:hover {
  background: var(--dark-accent-hover);
}

/* Mobile menu dark mode */
.dark-mode .mobile-menu {
  background: linear-gradient(135deg, #1c2333, #232b3a);
}

.dark-mode .mobile-menu-header {
  background: rgba(0, 0, 0, 0.2);
  border-bottom: 1px solid var(--dark-border);
}

.dark-mode .mobile-menu-section {
  background: rgba(0, 0, 0, 0.15);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.dark-mode .mobile-menu-section:hover {
  background: rgba(0, 0, 0, 0.25);
}

.dark-mode .mobile-menu-nav a:hover {
  background: rgba(74, 158, 255, 0.15);
}

.dark-mode .mobile-menu-setting {
  color: var(--dark-text-primary);
}

.dark-mode .mobile-menu-datetime {
  background: rgba(0, 0, 0, 0.2);
  color: var(--dark-text-primary);
}

.dark-mode .mobile-header {
  background: linear-gradient(135deg, #1c2333, #232b3a);
}

.dark-mode .mobile-search {
  background: rgba(0, 0, 0, 0.1);
}

.dark-mode #mobileSearchInput {
  background: var(--dark-card);
  color: var(--dark-text-primary);
}

/* Premium dark mode toggle button */
#darkModeToggle {
  position: fixed;
  top: 77px;
  right: 14px;
  z-index: 2001;
  width: 38px;
  height: 38px;
  transform: translateY(-50%);
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #ffffff, #f0f4f8);
  color: #3B82F6;
  font-size: 20px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 80%;
}

#darkModeToggle:hover {
  transform: translateY(-50%) scale(1.1);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.2);
}

.dark-mode #darkModeToggle {
  background: linear-gradient(135deg, #2c3445, #1c2333);
  color: #4a9eff;
  border: 1px solid rgba(74, 158, 255, 0.3);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.dark-mode #darkModeToggle:hover {
  transform: translateY(-50%) scale(1.1);
  box-shadow: 0 6px 16px rgba(74, 158, 255, 0.3);
  background: linear-gradient(135deg, #3a4354, #262d3d);
}

/* Premium scrollbar for dark mode */
.dark-mode ::-webkit-scrollbar {
  width: 8px;
}

.dark-mode ::-webkit-scrollbar-track {
  background: var(--dark-bg);
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: var(--dark-elevated);
  border-radius: 4px;
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: var(--dark-accent);
}

/* Premium focus styles for dark mode */
.dark-mode input:focus,
.dark-mode button:focus,
.dark-mode a:focus {
  outline: 2px solid var(--dark-accent);
  outline-offset: 2px;
}

/* Premium selection styles for dark mode */
.dark-mode ::selection {
  background: rgba(74, 158, 255, 0.3);
  color: var(--dark-text-primary);
}

/* Premium transition for dark mode toggle */
body {
  transition: background-color 0.3s ease, color 0.3s ease;
}

.dark-mode body {
  transition: background-color 0.3s ease, color 0.3s ease;
}

    * { box-sizing: border-box; }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0; padding: 0;
      background-color: var(--bg);
      background-image: url('background-edu.png');
      background-size: cover;
      background-attachment: fixed;
      background-position: center top;
      background-repeat: no-repeat;
      color: var(--text);
      transition: background-color .4s, color .4s;
      overflow-x: hidden;
    }

    /* Fluid font sizes */
    h1 {
      font-size: clamp(1.5rem, 5vw, 5.5rem);
    }

    h2 {
      font-size: clamp(1.2rem, 3vw, 1.8rem);
    }

    h3 {
      font-size: clamp(1rem, 2.5vw, 1.4rem);
    }

    p, .filter-item, .buy-btn, .carousel-buy-btn {
      font-size: clamp(0.8rem, 2vw, 1rem);
    }

    /* Fluid spacing */
    .layout, .carousel-container, .container {
      padding-left: clamp(0.5rem, 2vw, 1rem);
      padding-right: clamp(0.5rem, 2vw, 1rem);
    }

    .layout {
      margin-top: clamp(1rem, 3vw, 1.5rem);
      gap: clamp(1rem, 3vw, 1.5rem);
    }

   /* ====== HEADER ====== */
header {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  text-align: center;
  padding: 1rem 1rem;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  color: #fff;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25);
  position: relative;
  overflow: hidden;
}

/* üß© Container for logo + title side by side */
header .brand-row {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 25px;
  flex-wrap: wrap;
}

/* üõçÔ∏è Logo Styling */
header img {
  width: 130px;
  height: 130px;
  border-radius: 50%;
  object-fit: cover;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
  animation: logoPulse 3s infinite ease-in-out;
}

/* üè∑Ô∏è Website Title */
header h1 {
  margin: 0;
  font-weight: 800;
  color: #ffffff;
  letter-spacing: 1px;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
}

/* üí¨ Tagline */
header p {
  margin-top: 0.7rem;
  margin-bottom:0.1rem;
  font-weight: 200;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.92);
  max-width: 1200px;
}

/* ‚ú® Logo Pulse Animation */
@keyframes logoPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
  }
  50% {
    transform: scale(1.07);
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
  }
}

    
    /* ====== NAV BAR ====== */
    nav {
      background: var(--nav);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 1rem;
      position: sticky; 
      top: 0;
      z-index: 1000;
      flex-wrap: wrap;
    }

    nav .left-links {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }

    nav .left-links a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s, transform 0.2s;
    }

    nav .left-links a:hover {
      color: #ffffff;
      transform: scale(1.05);
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
    }
    nav .right-section {
  margin-left: auto;
  display: flex;
  align-items: center;
}

/* ====== STICKY NAV CENTER BRANDING (refined version) ====== */
.nav-branding {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) translateY(-10px);
  display: flex;
  align-items: center;
  gap: 10px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.7s ease, transform 0.7s ease;
  animation: none;
}

/* Branding content style */
.nav-branding img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.45);
  animation: navLogoPulse 4s infinite ease-in-out;
}

.nav-branding span {
  color: #ffffff;
  font-weight: 700;
  letter-spacing: 0.4px;
  text-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
  user-select: none;
}

/* Animate when nav becomes sticky */
.fixed-nav .nav-branding {
  opacity: 1;
  transform: translate(-50%, -50%) translateY(0);
  pointer-events: auto;
}

/* Smooth hide when header returns */
nav:not(.fixed-nav) .nav-branding {
  opacity: 0;
  transform: translate(-50%, -50%) translateY(-10px);
}

/* ‚ú® Soft glowing logo animation */
@keyframes navLogoPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
  }
  50% {
    transform: scale(1.08);
    box-shadow: 0 0 16px rgba(255, 255, 255, 0.6);
  }
}

/* Fade-in animation (optional for smoother entry) */
@keyframes brandingFadeIn {
  from { opacity: 0; transform: translate(-50%, -60%); }
  to { opacity: 1; transform: translate(-50%, -50%); }
}

/* Optional: Hide on small screens to save space */



    
    /* Premium gradient search bar styling */
#searchBarContainer {
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, #00c6ff, #0072ff);
  border-radius: 50px;
  padding: 2px;
  transition: all 0.3s ease;
}

#searchInput {
  border: none;
  outline: none;
  padding: 8px 12px;
  border-radius: 50px 0 0 50px;
  width: 150px;
  transition: all 0.3s ease;
}

/* Expanding input when focused */
#searchInput:focus {
  width: 200px;
  background: #fff;
}

/* Gradient search button */
#searchBtn {
  border: none;
  padding: 8px 15px;
  border-radius: 0 50px 50px 0;
  cursor: pointer;
  color: white;
  font-weight: 600;
  background: linear-gradient(135deg, #0072ff, #00c6ff);
  transition: all 0.3s ease;
}

/* Button hover glow */
#searchBtn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 8px rgba(0, 198, 255, 0.6);
}

/* Smooth shadow around full bar */
#searchBarContainer:focus-within {
  box-shadow: 0 0 10px rgba(0, 198, 255, 0.7);
}

    /* ====== TICKER / MOVING NOTICE (keeps your style) ====== */
    .ticker { width:100%; overflow:hidden; background:linear-gradient(90deg,#2563eb,#10b981); color:white; font-weight:600; padding:9px 0; position:relative;
      border-top:2px solid rgba(255,255,255,.2); border-bottom:2px solid rgba(255,255,255,.2); box-shadow:inset 0 -3px 6px rgba(0,0,0,.1);
    }
    .ticker__content { display:inline-block; white-space:nowrap; position:relative; will-change:transform; }
    @keyframes scrollText { from { transform: translateX(var(--start)); } to { transform: translateX(var(--end)); } }
    .ticker:hover .ticker__content { animation-play-state: paused !important; }

/* Classes toggled by JS when stuck */
.fixed-nav {
  position: fixed !important;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 1000;
}

.fixed-ticker {
  position: fixed !important;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 999;
  /* top will be set dynamically by JS to match nav height */
}

   /* ====== LIVE DATETIME ====== */
    #live-datetime {
      position: absolute;
      top: 12px;
      right: 18px;
      z-index: 1100;
      background: rgba(255, 255, 255, 0.88);
      color: #0b1220;
      padding: 7px 12px;
      border-radius: 9px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12);
      backdrop-filter: blur(4px);
    }
    
/* ====== CAROUSEL STYLES ====== */
.carousel-container {
  max-width: 1200px;
  margin: 1.5rem auto;
  padding: 0 1rem;
  position: relative;
}

.carousel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.carousel-header h2 {
  color: var(--primary);
  margin: 0;
}

.carousel-controls {
  display: flex;
  gap: 0.5rem;
}

.carousel-btn {
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.carousel-btn:hover {
  background: var(--accent);
  transform: scale(1.05);
}

.carousel-wrapper {
  overflow: hidden;
  border-radius: 12px;
  position: relative;
}

.carousel-track {
  display: flex;
  transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
}

.carousel-item {
  min-width: 100%;
  padding: 0 0.5rem;
}

.carousel-card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  padding: 1rem;
  display: flex;
  flex-direction: column;
  height: 100%;
  position: relative;
  overflow: hidden;
}

.carousel-card-image {
  width: 100%;
  height: 160px;
  object-fit: contain;
  border-radius: 8px;
  margin-bottom: 0.8rem;
}

.carousel-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.carousel-content h3 {
  margin: 0 0 0.5rem 0;
  color: var(--text);
  font-size: 1rem;
  line-height: 1.3;
  height: 2.6rem;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.carousel-content p {
  margin: 0 0 0.8rem 0;
  color: #64748b;
  font-size: 0.85rem;
  line-height: 1.4;
  flex: 1;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.carousel-price {
  font-weight: bold;
  color: var(--primary);
  margin-bottom: 0.8rem;
  font-size: 1rem;
}

.carousel-buy-btn {
  background: linear-gradient(135deg, var(--primary), var(--accent));
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.6rem 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 0.9rem;
}

.carousel-buy-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.carousel-source-tag {
  position: absolute;
  top: 10px;
  right: 10px;
  color: #fff;
  font-size: 12px;
  font-weight: 600;
  padding: 4px 10px;
  border-radius: 14px;
  z-index: 1;
}

.carousel-indicators {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
}

.indicator {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #cbd5e1;
  cursor: pointer;
  transition: all 0.3s ease;
}

.indicator.active {
  background: var(--primary);
  width: 24px;
  border-radius: 5px;
}

/* Carousel responsive styles */
@media (min-width: 768px) {
  .carousel-item {
    min-width: 50%;
  }
  
  .carousel-card {
    flex-direction: column;
    height: 280px; /* Increased height */
    padding: 1rem;
  }
  
  .carousel-card-image {
    width: 100%;
    height: 160px; /* Increased image height */
    margin-bottom: 0.5rem;
    border-radius: 8px;
  }
  
  .carousel-content {
    display: flex;
    flex-direction: column;
    flex: 1;
    padding: 0;
  }
  
  .carousel-content h3 {
    font-size: 0.9rem;
    line-height: 1.2;
    height: 2.4rem;
    margin-bottom: 0.4rem;
    -webkit-line-clamp: 2;
    order: 1; /* Title comes first */
  }
  
  .carousel-source-tag {
    position: absolute;
    top: 0.8rem;
    right: 0.8rem;
    order: 2; /* Source tag comes second */
  }
  
  .carousel-content p {
    font-size: 0.75rem;
    line-height: 1.3;
    margin-bottom: 0.4rem;
    -webkit-line-clamp: 2;
    flex: 1;
    order: 3; /* Description comes third */
  }
  
  .carousel-price {
    font-size: 0.85rem;
    margin-bottom: 0.4rem;
    order: 4; /* Price comes fourth */
  }
  
  .carousel-buy-btn {
    padding: 0.4rem 0.8rem;
    font-size: 0.8rem;
    order: 5; /* Buy button comes last */
    align-self: flex-start;
  }
}

@media (min-width: 1024px) {
  .carousel-item {
    min-width: 33.333%;
  }
  
  .carousel-card {
    height: 320px; /* Increased height */
  }
  
  .carousel-card-image {
    height: 130px; /* Increased image height */
  }
  
  .carousel-content h3 {
    font-size: 0.95rem;
    height: 2.4rem;
  }
  
  .carousel-content p {
    font-size: 0.8rem;
  }
  
  .carousel-price {
    font-size: 0.9rem;
  }
  
  .carousel-buy-btn {
    padding: 0.5rem 1rem;
    font-size: 0.85rem;
  }
}

/* Mobile carousel adjustments - UNCHANGED */
@media (max-width: 767px) {
  .carousel-item {
    min-width: 50%;
  }
  
  .carousel-card {
    height: auto;
    min-height: 280px;
  }
  
  .carousel-card-image {
    height: 140px;
  }
  
  .carousel-content h3 {
    font-size: 0.9rem;
    height: 2.2rem;
  }
  
  .carousel-content p {
    font-size: 0.8rem;
  }
  
  .carousel-price {
    font-size: 0.9rem;
  }
  
  .carousel-buy-btn {
    padding: 0.5rem 0.8rem;
    font-size: 0.8rem;
  }
}

@media (max-width: 480px) {
  .carousel-item {
    min-width: 100%;
  }
  
  .carousel-card {
    min-height: 260px;
  }
  
  .carousel-card-image {
    height: 120px;
  }
}
    
    /* ====== LAYOUT: filters (left) + main (right) ====== */
    .layout {
      max-width: 1200px;
      margin: 1.5rem auto;
      display: grid;
      grid-template-columns: var(--filter-width) 1fr;
      gap: 1.5rem;
      padding: 0 1rem;
    }

    /* Filter panel */
    .filters {
      background: rgba(255,255,255,0.96);
      border-radius: 12px;
      padding: 6px;
      box-shadow: 0 6px 22px rgba(6,24,44,0.06);
      position: sticky;
      top: 90px; /* under nav/header */
      height: fit-content;
      align-self: start;
    }
    .filters h3 { margin: 0 0 8px 0; color: var(--nav); font-size: 1rem; }
    .filter-list { display:flex; flex-direction:column; gap:8px; margin-top:8px; }
    .filter-item { display:flex; align-items:center; gap:8px; }
    .filter-item input[type="checkbox"] { width:16px; height:16px; }
    .filter-actions { margin-top:10px; display:flex; gap:8px; }
    .filter-actions button { padding:6px 10px; border-radius:8px; border:none; background:linear-gradient(135deg,var(--accent),var(--primary)); color:#fff; cursor:pointer; }

    /* Main column keeps product grid and other content */
    .main {
      margin-top: 12px;
      display:flex; flex-direction:column; gap:1rem;
    }

    .container {
      max-width: 1200px;
      padding: 1rem;
      background: rgba(255,255,255,0.96);
      border-radius: 14px;
      box-shadow: 0 6px 22px rgba(6,24,44,0.06);
    }

    h2 { text-align:center; color:var(--primary); margin-bottom:1rem; }

    /* Product grid & cards (kept same look) */
    .product-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:1.5rem; width: 100%; }
    .product-card { background:white; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.1); padding:10px; text-align:center; transition:transform .2s ease; position:relative; }
    .product-card:hover { transform: translateY(-5px); }
    .product-card img { width:100%; height:180px; object-fit:contain; border-radius:10px; }
    .price { display:block; font-weight:bold; color:#1a73e8; margin: 6px 0; }

    .buy-btn { display:inline-block; background:linear-gradient(135deg,#2563eb,#3b82f6); color:#fff; font-weight:600; text-decoration:none; padding:10px 18px; border-radius:10px; box-shadow:0 4px 10px rgba(37,99,235,.3); transition:all .3s; margin-top:10px; position:relative; overflow:hidden; }
    .buy-btn:hover { background:linear-gradient(135deg,#1d4ed8,#60a5fa); transform:translateY(-3px); box-shadow:0 6px 15px rgba(37,99,235,.5); }
    .buy-btn::after { content:""; position:absolute; top:0; left:-100%; width:100%; height:100%; background:rgba(255,255,255,.3); transform:skewX(-20deg); transition:.5s; }
    .buy-btn:hover::after { left:100%; }

    /* Source tag basic style (we animate and color in JS) */
    .source-tag { position:absolute; top:10px; right:10px; color:#fff; font-size:12px; font-weight:600; padding:4px 10px; border-radius:14px; }

    /* ====== FOOTER ====== */
    footer { background:var(--nav); color:#fff; text-align:center; padding:16px 10px; margin-top:28px; font-size:14px; }
    #visitor-info { margin-top:8px; font-weight:600; }

    /* ====== INFO SECTIONS ====== */
.info-sections {
  max-width: 1100px;
  margin: 3rem auto;
  padding: 0 1rem;
}

.info-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

.info-box {
  background: rgba(255, 255, 255, 0.96);
  border-radius: 14px;
  padding: 1.8rem;
  box-shadow: 0 6px 22px rgba(6, 24, 44, 0.06);
}

.info-box h2 {
  color: var(--primary);
  text-align: center;
  margin-bottom: 1rem;
}

.info-box p, .info-box details {
  color: var(--text);
  line-height: 1.6;
  font-size: 0.95rem;
}

.info-box details summary {
  font-weight: 600;
  cursor: pointer;
  color: var(--accent);
  margin: 0.6rem 0;
}

.info-box details p {
  margin-left: 1rem;
  margin-top: 0.5rem;
}

.dark-mode .info-box {
  background: rgba(10, 11, 16, 0.8);
  color: #fdfdfd;
  box-shadow: 0 6px 22px rgba(0, 0, 0, 0.4);
}

    /* ====== FLOATING UI ====== */
    #molly-chat { position: fixed; bottom: 18px; right: 18px; z-index: 2000; width:72px; height:72px; border-radius:50%; background:#fff; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 26px rgba(3,10,23,.18); text-decoration:none; animation:pulse 2.5s infinite; }
    .molly-avatar{ width:66px; height:66px; border-radius:50%; object-fit:cover; }

    /* Back to top */
    #back-to-top { position:fixed; right:18px; bottom:108px; display:none; z-index:1500; background:var(--primary); color:#fff; border:none; width:46px; height:46px; border-radius:50%; box-shadow:0 6px 20px rgba(2,6,23,.16); cursor:pointer; font-weight:700; }
    #back-to-top:hover { background:var(--accent); }


/* ====== MOBILE RESPONSIVENESS ====== */
/* Mobile-first responsive design */
@media (max-width: 1200px) {
  .layout {
    max-width: 100%;
  }
}

@media (max-width: 1024px) {
  .layout {
    grid-template-columns: 1fr;
  }
  
  .filters {
    display: none;
  }
  
  .product-grid {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }
}

@media (max-width: 768px) {
  /* Mobile header with hamburger - FIXED ALIGNMENT */
.mobile-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.8rem 1rem;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  color: white;
  position: sticky;
  top: 0;
  z-index: 1000;
  width: 100%;
  height: auto;
  min-height: 60px;
}

.mobile-header .hamburger {
  background: none;
  border: none;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

.mobile-header .hamburger:hover {
  background: rgba(255, 255, 255, 0.2);
}

.mobile-header .logo-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex: 1;
  justify-content: center;
  max-width: calc(100% - 100px); /* Account for hamburger and search button */
}

.mobile-header .logo-container img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
}

.mobile-header .logo-container h1 {
  font-size: 1.2rem;
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mobile-header .search-toggle {
  background: none;
  border: none;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

.mobile-header .search-toggle:hover {
  background: rgba(255, 255, 255, 0.2);
}
  
  .mobile-search {
  display: none;
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.1);
  width: 100%;
}

.mobile-search.active {
  display: block;
}

.mobile-search #mobileSearchInput {
  width: 100%;
  padding: 0.5rem;
  border: none;
  border-radius: 20px;
  background: white;
  color: var(--text);
}
  
  /* Hide desktop header and nav on mobile */
  header, nav {
    display: none;
  }
  
  /* Show mobile header */
  .mobile-header {
    display: flex;
  }
  
  /* Adjust ticker for mobile */
  .ticker {
    font-size: 0.8rem;
    padding: 6px 0;
  }
  
  /* Adjust product grid for mobile */
  .product-grid {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 0.8rem;
  }
  
  .product-card img {
    height: 150px;
  }
  
  /* Adjust footer for mobile */
  footer {
    padding: 1rem 0.5rem;
    font-size: 0.8rem;
  }
  
  /* Adjust info sections for mobile */
  .info-box {
    padding: 1rem;
  }
  
  .info-box h2 {
    font-size: 1.2rem;
  }
  
  .info-box p, .info-box details {
    font-size: 0.9rem;
  }
}

@media (max-width: 480px) {
  .product-grid {
    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
    gap: 0.5rem;
  }
  
  .product-card img {
    height: 130px;
  }
  
  .buy-btn {
    padding: 8px 12px;
    font-size: 0.8rem;
  }
}

/* ====== PREMIUM MOBILE MENU STYLES ====== */
.mobile-menu-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  backdrop-filter: blur(5px);
}

.mobile-menu-overlay.active {
  opacity: 1;
  visibility: visible;
}

.mobile-menu {
  position: absolute;
  top: 0;
  left: 0;
  width: 85%;
  max-width: 320px;
  height: 100%;
  background: var(--menu-gradient);
  box-shadow: var(--menu-shadow);
  transform: translateX(-100%);
  transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  overflow-y: auto;
  border-radius: 0 20px 20px 0;
}

.mobile-menu-overlay.active .mobile-menu {
  transform: translateX(0);
}

.mobile-menu-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.mobile-menu-logo {
  display: flex;
  align-items: center;
  gap: 0.8rem;
}

.mobile-menu-logo img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.mobile-menu-logo h2 {
  margin: 0;
  font-size: 1.4rem;
  color: white;
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.mobile-menu-close {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.mobile-menu-close:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: rotate(90deg);
}

.mobile-menu-content {
  padding: 1.5rem;
}

.mobile-menu-section {
  margin-bottom: 2rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 15px;
  padding: 1.2rem;
  backdrop-filter: blur(5px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.mobile-menu-section:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.mobile-menu-section h3 {
  margin: 0 0 1rem 0;
  color: white;
  font-size: 1.1rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid rgba(255, 255, 255, 0.2);
}

.mobile-menu-nav {
  list-style: none;
  padding: 0;
  margin: 0;
}

.mobile-menu-nav li {
  margin-bottom: 0.8rem;
}

.mobile-menu-nav a {
  display: flex;
  align-items: center;
  padding: 0.8rem;
  color: rgba(255, 255, 255, 0.9);
  text-decoration: none;
  transition: all 0.3s ease;
  border-radius: 10px;
  font-weight: 500;
}

.mobile-menu-nav a:hover {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  transform: translateX(5px);
}

.mobile-menu-nav a svg {
  margin-right: 10px;
}

.mobile-menu-filters {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

.mobile-menu-filter-item {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.5rem 0;
}

.mobile-menu-filter-item input[type="checkbox"] {
  width: 20px;
  height: 20px;
  accent-color: var(--accent);
}

.mobile-menu-filter-item label {
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  cursor: pointer;
  transition: color 0.3s ease;
}

.mobile-menu-filter-item label:hover {
  color: white;
}

.mobile-menu-clear-filters {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: none;
  border-radius: 10px;
  padding: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 1rem;
  width: 100%;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.mobile-menu-clear-filters:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

.mobile-menu-settings {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}

.mobile-menu-setting {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.mobile-menu-setting span {
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
}

.mobile-menu-datetime {
  background: rgba(0, 0, 0, 0.2);
  padding: 0.8rem;
  border-radius: 10px;
  text-align: center;
  font-size: 0.9rem;
  color: white;
  font-weight: 500;
}

/* Enhanced toggle switch styles */
.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 30px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
  pointer-events: none;
}

.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 30px;
  cursor: pointer;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.3);
  transition: .4s;
  border-radius: 30px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

input:checked + .slider {
  background-color: var(--accent);
}

input:checked + .slider:before {
  transform: translateX(30px);
}

/* Dark mode styles for mobile toggle */
.dark-mode .slider {
  background-color: rgba(255, 255, 255, 0.2);
}

.dark-mode input:checked + .slider {
  background-color: var(--dark-accent);
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.3);
  transition: .4s;
  border-radius: 30px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

input:checked + .slider {
  background-color: var(--accent);
}

input:checked + .slider:before {
  transform: translateX(30px);
}

.mobile-menu-social {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 1rem;
}

.mobile-menu-social a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  color: white;
  transition: all 0.3s ease;
}

.mobile-menu-social a:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-3px);
}

/* Add some premium animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.mobile-menu-section {
  animation: fadeInUp 0.5s ease forwards;
}

.mobile-menu-section:nth-child(1) {
  animation-delay: 0.1s;
}

.mobile-menu-section:nth-child(2) {
  animation-delay: 0.2s;
}

.mobile-menu-section:nth-child(3) {
  animation-delay: 0.3s;
}

.mobile-menu-section:nth-child(4) {
  animation-delay: 0.4s;
}

/* Hide mobile header and menu on desktop */
@media (min-width: 769px) {
  .mobile-header, .mobile-search, .mobile-menu-overlay {
    display: none !important;
  }
}

/*Disappear filter on mobile and reappear on desktop*/
   @media (max-width: 1024px) {
    .filters { display: none !important; }
    #live-datetime { display: none !important; }
  }
   @media (min-width: 1025px) {
  .filters { display: block !important; }
  #live-datetime { display: block !important; }
}

/*Disappear time and date on mobile and reappear on desktop*/
   @media (max-width: 748px) {
    #live-datetime { display: none !important; }
  }
   @media (min-width: 749px) {
   #live-datetime { display: block !important; }
}

/*Disappear Darl Mode Toggle on mobile and reappear on desktop*/
   @media (max-width: 748px) {
    #darkModeToggle { display: none !important; }
  }
   @media (min-width: 749px) {
   #darkModeToggle { display: block !important; }
}

/* ===== Premium Share Card ===== */
.share-card {
  margin-top: 17px;
  padding: 0.4rem;
  border-radius: 15px;
  background: linear-gradient(135deg, #3b82f6, #10b981);
  color: #fff;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
  text-align: center;
  overflow: hidden;
  position: relative;
  animation: floatCard 5s ease-in-out infinite alternate;
}

@keyframes floatCard {
  0% { transform: translateY(0); box-shadow: 0 8px 20px rgba(0,0,0,0.25); }
  100% { transform: translateY(-8px); box-shadow: 0 12px 28px rgba(0,0,0,0.3); }
}

.share-card-content h4 {
  margin: 0 0 8px;
  font-size: 1.1rem;
  font-weight: 700;
}

.share-card-content p {
  margin: 0 0 12px;
  font-size: 0.9rem;
  line-height: 1.4;
}

#shareBtn {
  background: #fff;
  color: #2563eb;
  border: none;
  font-weight: 700;
  padding: 10px 18px;
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(255,255,255,0.3);
  transition: all 0.3s ease;
}

#shareBtn:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(255,255,255,0.4);
}

/* Force mobile header alignment - LAST RESORT */
@media (max-width: 768px) {
  .mobile-header {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-between !important;
  }
  
  .mobile-header .hamburger {
    position: absolute !important;
    left: 1rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
  }
  
  .mobile-header .logo-container {
    position: absolute !important;
    left: 50% !important;
    top: 50% !important;
    transform: translate(-50%, -50%) !important;
  }
  
  .mobile-header .search-toggle {
    position: absolute !important;
    right: 1rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
  }
}
    
/* Premium transition for dark mode toggle - more specific to avoid conflicts */
.dark-mode-transition {
  transition: background-color 0.3s ease, color 0.3s ease;
}

.dark-mode-transition body,
.dark-mode-transition header,
.dark-mode-transition nav,
.dark-mode-transition .container,
.dark-mode-transition .filters,
.dark-mode-transition .product-card,
.dark-mode-transition .carousel-card,
.dark-mode-transition .info-box,
.dark-mode-transition footer,
.dark-mode-transition .mobile-menu,
.dark-mode-transition .mobile-menu-section {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Ensure carousel transitions are not affected by dark mode changes */
.carousel-track {
  transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  will-change: transform;
}

/* Prevent dark mode transitions from affecting carousel */
.dark-mode .carousel-track {
  transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Ensure carousel items maintain their layout */
.carousel-item {
  flex-shrink: 0;
  width: 100%;
}

/* Tablet view */
@media (min-width: 768px) {
  .carousel-item {
    width: 50%;
  }
}

/* Desktop view */
@media (min-width: 1024px) {
  .carousel-item {
    width: 33.333%;
  }
}

  </style>
</head>
<body>
  
  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" id="mobileMenuOverlay">
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-menu-header">
        <div class="mobile-menu-logo">
          <img src="logost.png" alt="Stationery Mall Logo" />
          <h2>Stationery Mall</h2>
        </div>
        <button class="mobile-menu-close" id="mobileMenuClose">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      
      <div class="mobile-menu-content">
        <div class="mobile-menu-section">
          <h3>Navigation</h3>
          <ul class="mobile-menu-nav">
            <li>
              <a href="index.html">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                Home
              </a>
            </li>
            <li>
              <a href="#about">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="16" x2="12" y2="12"></line>
                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                About
              </a>
            </li>
            <li>
              <a href="#disclaimer">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Disclaimer
              </a>
            </li>
            <li>
              <a href="#faq">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                  <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
                FAQ
              </a>
            </li>
          </ul>
        </div>
        
        <div class="mobile-menu-section">
          <h3>Categories</h3>
          <div class="mobile-menu-filters" id="mobileMenuFilters">
            <!-- Filters will be dynamically inserted here -->
          </div>
          <button class="mobile-menu-clear-filters" id="mobileMenuClearFilters">Clear Filters</button>
        </div>
        
        <div class="mobile-menu-section">
          <h3>Settings</h3>
          <div class="mobile-menu-settings">
            <div class="mobile-menu-setting">
              <span>Dark Mode</span>
              <label class="switch">
                <input type="checkbox" id="mobileDarkModeToggle">
                <span class="slider round"></span>
              </label>
            </div>
            <div class="mobile-menu-datetime" id="mobileMenuDateTime"></div>
          </div>
        </div>
        
        <div class="mobile-menu-section">
          <div class="mobile-menu-social">
            <a href="https://www.youtube.com/@ibrarclasses" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
              </svg>
            </a>
            <a href="https://t.me/M1ssMolly_Bot" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.56c-.21 2.26-1.13 7.73-1.6 10.26-.2 1.08-.59 1.44-.97 1.47-.82.07-1.45-.54-2.24-1.06-1.24-.82-1.95-1.33-3.15-2.13-1.39-.92-.49-1.43.31-2.26.21-.22 3.86-3.54 3.93-3.84.01-.04.01-.18-.07-.26s-.2-.05-.29-.03c-.12.03-2.09 1.33-5.91 3.91-.56.38-1.06.57-1.52.56-.5-.01-1.46-.28-2.18-.51-.88-.28-1.57-.43-1.51-.91.03-.25.38-.51 1.04-.78 4.07-1.77 6.78-2.94 8.13-3.51 3.88-1.61 4.68-1.89 5.2-1.9.12 0 .37.03.54.17.14.12.18.28.2.44-.01.06 0 .23-.02.36z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Header -->
  <header class="mobile-header">
    <button class="hamburger" id="hamburgerMenu">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    
    <div class="logo-container">
      <img src="logost.png" alt="Stationery Mall Logo" />
      <h1>Stationery Mall</h1>
    </div>
    
    <button class="search-toggle" id="mobileSearchToggle">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
    </button>
  </header>

  <div class="mobile-search" id="mobileSearch">
  <input id="mobileSearchInput" type="text" placeholder="Search products..." aria-label="Search products" />
</div>

  <!-- Desktop Header (hidden on mobile) -->
  <header>
    <div class="brand-row">
    <img src="logost.png" alt="Stationery logo" />
    <h1>Stationery Mall üõí</h1>
      </div>
    <p>Welcome to Stationery Mall ‚Äî your ultimate destination for all your books and stationery needs.
No more endless browsing for that perfect deal ‚Äî every product here is handpicked after comparing across trusted sites,
so you get bang for your buck - everytime ‚ù§Ô∏è</p>
  </header>

 
  <nav>
    <!-- Center branding that appears when nav sticks -->
<div class="nav-branding">
  <img src="logost.png" alt="Stationery Mall Logo" />
  <span>Stationery Mall</span>
</div>
    <div class="left-links">
      <a href="index.html">Home</a>
      <a href="#about">About</a>
      <a href="#disclaimer">Disclaimer</a>
      <a href="#faq">FAQ</a>
    </div>

    <div class="right-section">
      <!-- keep search bar in nav with same look; note: not prefilled -->
      <div id="searchBarContainer" style="color:transparent;">
        <input id="searchInput" type="text" placeholder="Search products..." aria-label="Search products" />
        <button id="searchBtn" aria-label="Search">üîç</button>
      </div>
    </div>
  </nav>

  <!-- Ticker -->
  <div class="ticker">
    <div class="ticker__content" id="tickerText"></div>
  </div>

  <!-- Live date/time -->
  <div id="live-datetime" aria-hidden="false"></div>

  <!-- Dark mode toggle -->
  <button id="darkModeToggle" title="Toggle dark mode">üåô</button>

  <!-- Carousel -->
  <div class="carousel-container">
    <div class="carousel-header">
      <h2>Today's Deals</h2>
      <div class="carousel-controls">
        <button id="prevBtn" class="carousel-btn" aria-label="Previous slide">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
        <button id="nextBtn" class="carousel-btn" aria-label="Next slide">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>
    </div>
    <div class="carousel-wrapper">
      <div class="carousel-track" id="carouselTrack">
        <!-- Carousel items will be dynamically inserted here -->
      </div>
    </div>
    <div class="carousel-indicators" id="carouselIndicators">
      <!-- Indicators will be dynamically inserted here -->
    </div>
  </div>

  <!-- Layout: left filters + main -->
  <div class="layout">

    <!-- Filters column (left) -->
    <aside class="filters" id="filtersPanel" aria-hidden="false">
      <h3>Categories</h3>
      <div class="filter-list" id="filterList">
        <!-- checkboxes injected by JS (demo categories used) -->
      </div>
      <div class="filter-actions">
        <button id="clearFilters">Clear</button>
      </div>
      <hr style="margin:12px 0;border:none;border-top:1px solid #eef2f7;">

      <div class="share-card">
  <div class="share-card-content">
    <h4>‚ù§Ô∏è Love Stationery Mall?</h4>
    <p>Help others discover amazing stationery deals ‚Äî share it with your friends!</p>
    <button id="shareBtn">üì§ Share Now</button>
  </div>
</div>

    </aside>

    <!-- Main column (right) -->
    <div class="main">
      <div class="container" aria-live="polite">
        <div class="product-grid" id="productGrid"></div>
      </div>
    </div>
  </div>

  <footer>
    <!-- ====== INFO SECTIONS ====== -->
<section class="info-sections">
  <div class="info-container">
    <!-- ABOUT -->
    <div class="info-box" id="about">
      <h2>About Us</h2>
      <p>
        Stationery Mall is a brainchild of Ibrar Classes to provide students a one stop solution for all their Books and stationery needs.
        Every product listed here is carefully curated from trusted e-commerce sites to ensure
        quality, affordability, best current available prices and convenience ‚Äî all in one place.
      </p>
    </div>

    <!-- DISCLAIMER -->
    <div class="info-box" id="disclaimer">
      <h2>Disclaimer</h2>
      <p>
        Stationery Mall participates in affiliate programs from platforms such as Flipkart, Amazon, 
        and Meesho to choose and display their products here. On some products we may earn a small referral fee when you make a purchase using our links.
        Prices and availability are subject to change without notice. All product images and 
        trademarks belong to their respective owners. All the T&C regarding ordering the products, 
        returning the product lies with the original sites. 
      </p>
    </div>

    <!-- FAQ -->
    <div class="info-box" id="faq">
      <h2>Frequently Asked Questions</h2>
       <details>
        <summary>Why should I order from Stationery Mall?</summary>
        <p>You get a curated selection of stationery and study products ‚Äî already compared across top sites like Flipkart, Amazon, and Meesho ‚Äî so you always find trusted quality, best prices, and verified deals in one place without endless searching.</p>
      </details>
      <details>
        <summary>Are these products directly sold by Stationery Mall?</summary>
        <p>No. All purchases are made through trusted e-commerce sites such as Amazon, Flipkart, or Meesho.</p>
      </details>
      <details>
        <summary>Do I pay extra using your links?</summary>
        <p>Not at all! You pay the same price as you would normally ‚Äî we simply earn a small referral fee.</p>
      </details>
      <details>
        <summary>How often are the product listings updated?</summary>
        <p>Products and prices are reviewed and updated regularly to ensure you get the best available deals.</p>
      </details>
    </div>
  </div>
</section>

    <div>&copy; 2025 Ibrar Classes</div>
    <div id="visitor-info" aria-live="polite"></div>
  </footer>

  <!-- Miss Molly chat -->
  <a id="molly-chat" href="https://t.me/M1ssMolly_Bot" target="_blank" rel="noopener" title="Chat with Miss Molly">
    <img src="images/miss-molly.jpg" alt="Miss Molly" class="molly-avatar" />
  </a>

  <!-- Back to top -->
  <button id="back-to-top" aria-label="Back to top">‚Üë</button>

  <!-- ========== SCRIPTS ========== -->
  <script>
    // Global utility function to detect source from URL
    function detectSource(url){
      if(!url) return '';
      const u = url.toLowerCase();
      if(u.includes('amzn') || u.includes('amazon')) return 'Amazon';
      if(u.includes('fktr') || u.includes('flipkart')) return 'Flipkart';
      if(u.includes('meesho')) return 'Meesho';
      return '';
    }

    /* ===== LIVE DATETIME ===== */
    function updateDateTime(){
      const now = new Date();
      const options = { weekday:'short', year:'numeric', month:'short', day:'numeric' };
      const dateStr = now.toLocaleDateString('en-IN', options);
      const timeStr = now.toLocaleTimeString('en-IN');
      document.getElementById('live-datetime').textContent = `${dateStr} | ${timeStr}`;
    }
    updateDateTime(); setInterval(updateDateTime, 1000);

    /* ===== PREMIUM DARK MODE TOGGLE ===== */
const darkToggle = document.getElementById('darkModeToggle');
const mobileDarkToggle = document.getElementById('mobileDarkModeToggle');

// Function to toggle dark mode with smooth transition
function toggleDarkMode() {
  document.documentElement.classList.add('dark-mode-transition');
  
  setTimeout(() => {
    document.documentElement.classList.toggle('dark-mode');
    const isDark = document.documentElement.classList.contains('dark-mode');
    localStorage.setItem('ibrar-dark', isDark ? '1' : '0');
    
    // Update desktop toggle
    if (darkToggle) {
      darkToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    }
    
    // Update mobile toggle
    if (mobileDarkToggle) {
      mobileDarkToggle.checked = isDark;
    }
    
    setTimeout(() => {
      document.documentElement.classList.remove('dark-mode-transition');
    }, 300);
  }, 10);
}

// Function to initialize dark mode state
function initializeDarkMode() {
  const currentDarkMode = localStorage.getItem('ibrar-dark') === '1';
  
  // Apply dark mode on page load to prevent flash
  if (currentDarkMode) {
    document.documentElement.classList.add('dark-mode');
  }
  
  // Update desktop toggle
  if (darkToggle) {
    darkToggle.textContent = currentDarkMode ? '‚òÄÔ∏è' : 'üåô';
  }
  
  // Update mobile toggle
  if (mobileDarkToggle) {
    mobileDarkToggle.checked = currentDarkMode;
  }
}

// Add event listeners
if (darkToggle) {
  darkToggle.addEventListener('click', toggleDarkMode);
}

if (mobileDarkToggle) {
  mobileDarkToggle.addEventListener('change', function(e) {
    e.preventDefault();
    toggleDarkMode();
  });
}

// Additional mobile toggle fix
document.addEventListener('DOMContentLoaded', function() {
  // Ensure mobile toggle works even if menu is dynamically loaded
  const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.type === 'childList') {
        const mobileToggle = document.getElementById('mobileDarkModeToggle');
        if (mobileToggle && !mobileToggle.hasAttribute('data-listener')) {
          mobileToggle.setAttribute('data-listener', 'true');
          mobileToggle.addEventListener('change', function(e) {
            e.preventDefault();
            toggleDarkMode();
          });
        }
      }
    });
  });

  observer.observe(document.body, {
    childList: true,
    subtree: true
  });
});

// Initialize dark mode when DOM is loaded
document.addEventListener('DOMContentLoaded', initializeDarkMode);

// Also initialize immediately in case DOM is already loaded
initializeDarkMode();

// Add a class for smooth transitions
document.documentElement.classList.add('dark-mode-transition');


    /* ===== FAKE VISITOR COUNT (50-100) ===== */
    (function visitorCounter(){
      const KEY_COUNT='ibrar_visitors', KEY_RESET='ibrar_visitors_reset';
      const resetDays = 30; const now = Date.now();
      const lastReset = localStorage.getItem(KEY_RESET);
      let count = parseInt(localStorage.getItem(KEY_COUNT),10);
      function randomInRange(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
      if(!lastReset || (now - lastReset) > resetDays*24*60*60*1000){
        count = randomInRange(51,98); localStorage.setItem(KEY_COUNT,count); localStorage.setItem(KEY_RESET,now);
      } else {
        if(!count || isNaN(count)){ count = randomInRange(51,98); localStorage.setItem(KEY_COUNT,count); }
        const inc = Math.random()<0.35?0:Math.random()<0.6?1:2; count = Math.min(98,count+inc); localStorage.setItem(KEY_COUNT,count);
      }
      const getActiveUsers = ()=> randomInRange(5,13);
      function renderVisitor(){
        const date = new Date().toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'});
        const active = getActiveUsers();
        document.getElementById('visitor-info').innerHTML = `Visitors this month: <strong>${count}</strong> &nbsp; | &nbsp; Last updated: <strong>${date}</strong> &nbsp; | &nbsp; Active users: <strong>${active}</strong>`;
      }
      renderVisitor();
      setInterval(()=>{
        if(Math.random() < 0.45){ count = Math.min(98, count + (Math.random()<0.6?1:0)); localStorage.setItem(KEY_COUNT,count); }
        renderVisitor();
      },8000);
    })();

    /* ===== BACK TO TOP ===== */
    const backBtn = document.getElementById('back-to-top');
    window.addEventListener('scroll', ()=>{ backBtn.style.display = window.scrollY > 300 ? 'block' : 'none'; });
    backBtn.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    /* ===== TICKER (keeps your working implementation) ====== */
    (function initTicker(){
      const messages = [
        "üì¶ New products are updated regularly for better deals and prices.",
        "‚ù§Ô∏è Handpicked products, at best available prices, you pay nothing extra, we get small referral fee. Win-Win ‚≠ê",
        "üîç Use the Search Bar to find the products quickly",
        "üí° Did not find your product? Leave the request with Miss Molly ‚≠ê",
      ];
      const tickerText = document.getElementById("tickerText");
      const container = document.querySelector(".ticker");
      let current = 0; let timerId = null;
      const SPEED_PX_PER_SEC = 120;

      function showNextMessage(){
        if(timerId){ clearTimeout(timerId); timerId = null; }
        tickerText.textContent = messages[current];
        requestAnimationFrame(()=>{
          const textW = tickerText.offsetWidth, containerW = container.clientWidth;
          const startPx = containerW; const endPx = -textW;
          const distance = Math.abs(endPx - startPx);
          const durationMs = Math.max(4000, Math.round((distance / SPEED_PX_PER_SEC) * 1000));
          tickerText.style.setProperty('--start', startPx + 'px');
          tickerText.style.setProperty('--end', endPx + 'px');
          tickerText.style.animation = 'none'; void tickerText.offsetWidth;
          tickerText.style.animation = `scrollText ${durationMs}ms linear forwards`;
          const gapAfter = ((current+1) % messages.length === 0) ? 15000 : 5000;
          timerId = setTimeout(()=>{ current = (current+1)%messages.length; showNextMessage(); }, durationMs + gapAfter);
        });
      }
      showNextMessage();
      tickerText.parentElement.addEventListener('mouseenter', ()=> { tickerText.style.animationPlayState='paused'; });
      tickerText.parentElement.addEventListener('mouseleave', ()=> { tickerText.style.animationPlayState='running'; });
    })();

    /* ====== PRODUCT LOADING, SEARCH, FILTERS (single combined robust script) ====== */
    (function productModule(){
      const PRODUCTS_JSON = 'products.json?v=' + new Date().getTime();
      const grid = document.getElementById('productGrid');
      const searchInput = document.getElementById('searchInput');
      const searchBtn = document.getElementById('searchBtn');
      const filterListEl = document.getElementById('filterList');
      const filtersPanel = document.getElementById('filtersPanel');
      const clearBtn = document.getElementById('clearFilters');
      const saveBtn = document.getElementById('saveFiltersBtn');

      // demo categories (you can edit later). We'll also add any categories found in products.
      const demoCategories = ['Pens','Notebooks','Books','Accessories','Gadgets','Table Decors'];
      let products = [];      // full list
      let activeFilters = JSON.parse(localStorage.getItem('ibrar_filters') || '[]'); // array of selected category names

      // Build filter UI (prefers categories found in products, else demo)
      function buildFilterUI(categories){
        filterListEl.innerHTML = '';
        categories.forEach(cat=>{
          const id = 'filter_' + cat.replace(/\s+/g,'_').toLowerCase();
          const wrapper = document.createElement('label');
          wrapper.className = 'filter-item';
          wrapper.innerHTML = `<input type="checkbox" id="${id}" value="${cat}" ${activeFilters.includes(cat) ? 'checked' : ''} /> <span>${cat}</span>`;
          filterListEl.appendChild(wrapper);
          wrapper.querySelector('input').addEventListener('change', () => {
            syncFiltersFromUI();
            applyFiltersAndSearch();
          });
        });
      }

      function syncFiltersFromUI(){
        const checked = Array.from(filterListEl.querySelectorAll('input[type="checkbox"]:checked')).map(i=>i.value);
        activeFilters = checked;
        localStorage.setItem('ibrar_filters', JSON.stringify(activeFilters));
      }

      // display products (list = filtered list)
      function displayProducts(list){
        grid.innerHTML = '';
        if(!list || list.length === 0){
          grid.innerHTML = '<p style="grid-column:1/-1;text-align:center;color:#475569">No items found.</p>';
          return;
        }
        list.forEach(p=>{
          const card = document.createElement('div'); card.className = 'product-card';
          card.style.position = 'relative';

          const source = detectSource(p.link) || (p.source || '');
          // image with lazy loading and fallback
          const safeImage = p.image ? p.image : 'fallback.jpg';
          card.innerHTML = `
            <img src="${safeImage}" alt="${(p.title||'Stationery Product')}" loading="lazy" onerror="this.src='fallback.jpg';this.alt='Image not available';">
            <h3>${p.title || ''}</h3>
            <p style="color:#475569">${p.desc || ''}</p>
            <span class="price">${p.price || ''}</span>
            <a href="${p.link || '#'}" target="_blank" class="buy-btn" rel="nofollow noopener noreferrer">Buy Now</a>
          `;

          // Add source tag if available (animated & colored)
          if(source){
            const tag = document.createElement('div'); tag.className = 'source-tag'; tag.textContent = source;
            // color map
            const colors = { Amazon: '#FFD700', Flipkart:'#2874F0', Meesho:'#E91E63' };
            const col = colors[source] || '#444';
            // tag base style ‚Äî keep text white for visibility
            tag.style.background = col;
            tag.style.color = '#fff';
            tag.style.fontSize = '12px';
            tag.style.fontWeight = '600';
            tag.style.padding = '4px 10px';
            tag.style.borderRadius = '14px';
            tag.style.boxShadow = '0 2px 6px rgba(0,0,0,0.25)';
            tag.style.opacity = '0';
            tag.style.transform = 'translateY(-6px)';
            tag.style.transition = 'all .35s ease';
            tag.style.pointerEvents = 'none';

            // add per-platform pulse via dynamic style (uses colored glow)
            const keyframesName = 'tagPulse_' + source.toLowerCase();
            // if the keyframe does not exist yet, add it
            if(!document.getElementById('kf_' + keyframesName)){
              const styleEl = document.createElement('style');
              styleEl.id = 'kf_' + keyframesName;
              const rgba = hexToRgba(col, 0.6);
              styleEl.innerHTML = `
                @keyframes ${keyframesName} {
                  0%,100%{ box-shadow: 0 2px 6px rgba(0,0,0,0.25); transform: scale(1); }
                  50% { box-shadow: 0 0 14px 4px ${rgba}; transform: scale(1.05); }
                }
              `;
              document.head.appendChild(styleEl);
            }
            tag.style.animation = keyframesName + ' 4s infinite ease-in-out';
            card.appendChild(tag);
            // animate in
            requestAnimationFrame(()=> setTimeout(()=>{ tag.style.opacity='1'; tag.style.transform='translateY(0)'; },120));
          }

          grid.appendChild(card);
        });
      }

      // helper: hex to rgba
      function hexToRgba(hex, a){
        hex = hex.replace('#','');
        if(hex.length === 3) hex = hex.split('').map(h=>h+h).join('');
        const r = parseInt(hex.slice(0,2),16), g = parseInt(hex.slice(2,4),16), b = parseInt(hex.slice(4,6),16);
        return `rgba(${r},${g},${b},${a})`;
      }

      // apply the filters + search
      function applyFiltersAndSearch(){
        const q = (searchInput.value || '').toLowerCase().trim();
        let list = products.slice(); // copy

        // filter by categories if any selected (assume product.category or product.tags contains)
        if(activeFilters && activeFilters.length){
          list = list.filter(p => {
            // prefer explicit p.category
            if(p.category){
              return activeFilters.includes(p.category);
            }
            // fallback: check tags array or title/desc for category words
            if(Array.isArray(p.tags)){
              return p.tags.some(t => activeFilters.includes(t));
            }
            // last fallback: check title/desc contains any filter word
            return activeFilters.some(f => {
              const fl = f.toLowerCase();
              return (p.title && p.title.toLowerCase().includes(fl)) || (p.desc && p.desc.toLowerCase().includes(fl));
            });
          });
        }

        // apply search query
        if(q){
          list = list.filter(p => (p.title && p.title.toLowerCase().includes(q)) || (p.desc && p.desc.toLowerCase().includes(q)));
        }

        displayProducts(list);
      }

      // Search events (live)
      searchInput.addEventListener('input', () => {
        // if user clears input, show all (and keep filters applied)
        applyFiltersAndSearch();
      });
      searchInput.addEventListener('keyup', (e)=>{
        if(e.key === 'Enter') applyFiltersAndSearch();
      });
      searchBtn.addEventListener('click', applyFiltersAndSearch);

      // clear & save filter buttons
      clearBtn.addEventListener('click', ()=>{
        activeFilters = []; localStorage.removeItem('ibrar_filters');
        const boxes = filterListEl.querySelectorAll('input[type="checkbox"]'); boxes.forEach(b=>b.checked=false);
        applyFiltersAndSearch();
      });
      

      // Build filters from demo + product categories (if any)
      function computeCategoriesFromProducts(prodList){
        const set = new Set(demoCategories);
        prodList.forEach(p=>{
          if(p.category) set.add(p.category);
          if(Array.isArray(p.tags)) p.tags.forEach(t => set.add(t));
        });
        return Array.from(set);
      }

      // fetch products.json and initialize UI
      async function init(){
        try {
          const res = await fetch(PRODUCTS_JSON);
          products = await res.json();
          // compute categories
          const cats = computeCategoriesFromProducts(products);
          buildFilterUI(cats);
          // initial display uses saved filters and blank search
          applyFiltersAndSearch();
          
          // Trigger carousel initialization after products are loaded
          if (window.initCarousel) {
            window.initCarousel();
          }
        } catch(err){
          console.error('Error loading products:', err);
          grid.innerHTML = `<p style="text-align:center;color:red">‚ö†Ô∏è Failed to load products, please refresh the page.</p>`;
        }
      }

      init();

      // expose small helper for other scripts if needed
      window.ibrarProductsRefresh = applyFiltersAndSearch;

    })();

/* ====== CAROUSEL FUNCTIONALITY ====== */
(function initCarouselModule() {
  const carouselTrack = document.getElementById('carouselTrack');
  const indicatorsContainer = document.getElementById('carouselIndicators');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  
  let currentIndex = 0;
  let featuredProducts = [];
  let autoplayInterval;
  
  // Fetch featured products from products.json
  async function loadFeaturedProducts() {
    try {
      const response = await fetch('products.json?v=' + new Date().getTime());
      const products = await response.json();
      
      // Filter products that have "featured": true
      featuredProducts = products.filter(product => product.featured === true);
      
      // If no products are marked as featured, fall back to random selection
      if (featuredProducts.length === 0) {
        console.log('No featured products found, using random selection');
        const shuffled = [...products].sort(() => 0.5 - Math.random());
        featuredProducts = shuffled.slice(0, 6);
      } else {
        // Limit to maximum 6 featured products
        featuredProducts = featuredProducts.slice(0, 6);
        console.log(`Found ${featuredProducts.length} featured products`);
      }
      
      renderCarousel();
      setupAutoplay();
    } catch (error) {
      console.error('Error loading featured products:', error);
    }
  }
  
  // Render carousel items
  function renderCarousel() {
    carouselTrack.innerHTML = '';
    indicatorsContainer.innerHTML = '';
    
    if (featuredProducts.length === 0) {
      carouselTrack.innerHTML = '<div style="text-align: center; padding: 2rem; color: #666;">No featured products available</div>';
      return;
    }
    
    featuredProducts.forEach((product, index) => {
      // Create carousel item
      const item = document.createElement('div');
      item.className = 'carousel-item';
      
      const source = detectSource(product.link) || (product.source || '');
      const sourceColor = source === 'Amazon' ? '#FFD700' : 
                         source === 'Flipkart' ? '#2874F0' : 
                         source === 'Meesho' ? '#E91E63' : '#444';
      
      item.innerHTML = `
        <div class="carousel-card">
          <img src="${product.image || 'fallback.jpg'}" alt="${product.title || 'Product'}" onerror="this.src='fallback.jpg';" class="carousel-card-image">
          <div class="carousel-content">
            <h3>${product.title || ''}</h3>
            <p>${product.desc || ''}</p>
            <div class="carousel-price">${product.price || ''}</div>
            <a href="${product.link || '#'}" target="_blank" class="carousel-buy-btn" rel="nofollow noopener noreferrer">Buy Now</a>
          </div>
          ${source ? `<div class="carousel-source-tag" style="background: ${sourceColor};">${source}</div>` : ''}
        </div>
      `;
      
      carouselTrack.appendChild(item);
      
      // Create indicator
      const indicator = document.createElement('div');
      indicator.className = `indicator ${index === 0 ? 'active' : ''}`;
      indicator.addEventListener('click', () => goToSlide(index));
      indicatorsContainer.appendChild(indicator);
    });
  }
  
  // Navigate to specific slide
  function goToSlide(index) {
    currentIndex = index;
    const slideWidth = 100 / getVisibleSlides();
    carouselTrack.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
    
    // Update indicators
    document.querySelectorAll('.indicator').forEach((ind, i) => {
      ind.classList.toggle('active', i === currentIndex);
    });
    
    // Reset autoplay
    resetAutoplay();
  }
  
  // Get number of visible slides based on screen width
function getVisibleSlides() {
  if (window.innerWidth >= 1024) return 3;
  if (window.innerWidth >= 768) return 2;
  if (window.innerWidth >= 480) return 2; // Changed from 1 to 2 for medium mobile
  return 1; // For very small screens
}

// Go to next slide
function nextSlide() {
  const visibleSlides = getVisibleSlides();
  const maxIndex = Math.max(0, featuredProducts.length - visibleSlides);
  
  // Always move one slide at a time, regardless of visible slides
  if (currentIndex < maxIndex) {
    currentIndex++;
  } else {
    // Restart from the beginning when reaching the end
    currentIndex = 0;
  }
  
  goToSlide(currentIndex);
}

// Go to previous slide
function prevSlide() {
  const visibleSlides = getVisibleSlides();
  const maxIndex = Math.max(0, featuredProducts.length - visibleSlides);
  
  // Always move one slide at a time, regardless of visible slides
  if (currentIndex > 0) {
    currentIndex--;
  } else {
    // Go to the last slide when at the beginning
    currentIndex = maxIndex;
  }
  
  goToSlide(currentIndex);
}
  
  // Setup autoplay
  function setupAutoplay() {
    autoplayInterval = setInterval(nextSlide, 5000);
  }
  
  // Reset autoplay
  function resetAutoplay() {
    clearInterval(autoplayInterval);
    setupAutoplay();
  }
  
  // Event listeners
  prevBtn.addEventListener('click', prevSlide);
  nextBtn.addEventListener('click', nextSlide);
  
  // Pause autoplay on hover
  carouselTrack.addEventListener('mouseenter', () => clearInterval(autoplayInterval));
  carouselTrack.addEventListener('mouseleave', setupAutoplay);
  
  // Handle window resize
  window.addEventListener('resize', () => {
    goToSlide(0); // Reset to first slide on resize
  });
  
  // Make function globally accessible
  window.initCarousel = loadFeaturedProducts;
  
  // Initialize carousel
  loadFeaturedProducts();
})();

/* ===== CAROUSEL SLIDING FIX ===== */
document.addEventListener('DOMContentLoaded', function() {
  const carouselTrack = document.getElementById('carouselTrack');
  const darkModeToggle = document.getElementById('darkModeToggle');
  
  if (!carouselTrack) return;
  
  // Fix for dark mode transition conflicts
  if (darkModeToggle) {
    darkModeToggle.addEventListener('click', () => {
      // Temporarily disable carousel transitions during dark mode change
      const originalTransition = carouselTrack.style.transition;
      carouselTrack.style.transition = 'none';
      
      // Re-enable transitions after dark mode change is complete
      setTimeout(() => {
        carouselTrack.style.transition = originalTransition || 'transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
      }, 350);
    });
  }
  
  // Add a flag to prevent multiple transitions
  let isTransitioning = false;
  
  // Override the existing carousel transition functions if they exist
  const originalNextSlide = window.nextSlide;
  const originalPrevSlide = window.prevSlide;
  
  window.nextSlide = function() {
    if (isTransitioning) return;
    isTransitioning = true;
    
    if (originalNextSlide) {
      originalNextSlide();
    }
    
    setTimeout(() => {
      isTransitioning = false;
    }, 500);
  };
  
  window.prevSlide = function() {
    if (isTransitioning) return;
    isTransitioning = true;
    
    if (originalPrevSlide) {
      originalPrevSlide();
    }
    
    setTimeout(() => {
      isTransitioning = false;
    }, 500);
  };
});


    /* ====== MOBILE MENU FUNCTIONALITY ====== */
    /* ====== MOBILE MENU FUNCTIONALITY ====== */
(function initMobileMenu() {
  const hamburgerMenu = document.getElementById('hamburgerMenu');
  const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
  const mobileMenuClose = document.getElementById('mobileMenuClose');
  const mobileMenuFilters = document.getElementById('mobileMenuFilters');
  const mobileMenuClearFilters = document.getElementById('mobileMenuClearFilters');
  const mobileDarkModeToggle = document.getElementById('mobileDarkModeToggle');
  const mobileMenuDateTime = document.getElementById('mobileMenuDateTime');
  const mobileSearchToggle = document.getElementById('mobileSearchToggle');
  const mobileSearch = document.getElementById('mobileSearch');
  const mobileSearchInput = document.getElementById('mobileSearchInput');
  
  // Open mobile menu
  hamburgerMenu.addEventListener('click', () => {
    mobileMenuOverlay.classList.add('active');
    document.body.style.overflow = 'hidden'; // Prevent scrolling when menu is open
  });
  
  // Close mobile menu
  function closeMobileMenu() {
    mobileMenuOverlay.classList.remove('active');
    document.body.style.overflow = ''; // Restore scrolling
  }
  
  mobileMenuClose.addEventListener('click', closeMobileMenu);
  
  // Close menu when clicking outside
  mobileMenuOverlay.addEventListener('click', (e) => {
    if (e.target === mobileMenuOverlay) {
      closeMobileMenu();
    }
  });
  
  // Close menu when clicking on a navigation link
  document.querySelectorAll('.mobile-menu-nav a').forEach(link => {
    link.addEventListener('click', () => {
      closeMobileMenu();
    });
  });
  
  // Sync filters with main filter panel
  function syncMobileFilters() {
    mobileMenuFilters.innerHTML = '';
    
    // Get categories from the main filter panel
    const mainFilterItems = document.querySelectorAll('.filter-item');
    
    mainFilterItems.forEach(item => {
      const checkbox = item.querySelector('input[type="checkbox"]');
      const label = item.querySelector('span').textContent;
      
      const filterItem = document.createElement('div');
      filterItem.className = 'mobile-menu-filter-item';
      
      filterItem.innerHTML = `
        <input type="checkbox" id="mobile_${checkbox.id}" value="${checkbox.value}" ${checkbox.checked ? 'checked' : ''} />
        <label for="mobile_${checkbox.id}">${label}</label>
      `;
      
      mobileMenuFilters.appendChild(filterItem);
      
      // Add event listener to sync with main filter
      filterItem.querySelector('input').addEventListener('change', (e) => {
        // Update main filter
        checkbox.checked = e.target.checked;
        
        // Trigger change event on main filter to apply filters
        checkbox.dispatchEvent(new Event('change'));
      });
    });
  }
  
  // Clear filters
  mobileMenuClearFilters.addEventListener('click', () => {
    // Uncheck all mobile filters
    document.querySelectorAll('.mobile-menu-filter-item input').forEach(input => {
      input.checked = false;
    });
    
    // Uncheck all main filters
    document.querySelectorAll('.filter-item input').forEach(input => {
      input.checked = false;
    });
    
    // Trigger change event on main filter to apply filters
    document.querySelector('.filter-item input').dispatchEvent(new Event('change'));
  });
  
  // Sync dark mode toggle
  const isDarkMode = document.documentElement.classList.contains('dark-mode');
  mobileDarkModeToggle.checked = isDarkMode;
  
  mobileDarkModeToggle.addEventListener('change', () => {
    // Toggle dark mode
    document.documentElement.classList.toggle('dark-mode');
    const isDark = document.documentElement.classList.contains('dark-mode');
    
    // Update main dark mode toggle
    const mainDarkModeToggle = document.getElementById('darkModeToggle');
    mainDarkModeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    
    // Save preference
    localStorage.setItem('ibrar-dark', isDark ? '1' : '0');
  });
  
  // Update date/time in mobile menu
  function updateMobileDateTime() {
    const now = new Date();
    const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
    const dateStr = now.toLocaleDateString('en-IN', options);
    const timeStr = now.toLocaleTimeString('en-IN');
    mobileMenuDateTime.textContent = `${dateStr} | ${timeStr}`;
  }
  
  updateMobileDateTime();
  setInterval(updateMobileDateTime, 1000);
  
  // Mobile search toggle - FIXED
  if (mobileSearchToggle && mobileSearch) {
    mobileSearchToggle.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      mobileSearch.classList.toggle('active');
      if (mobileSearch.classList.contains('active')) {
        mobileSearchInput.focus();
      }
    });
  }
  
  // Mobile search functionality
  if (mobileSearchInput) {
    mobileSearchInput.addEventListener('input', () => {
      // Sync with main search input
      const mainSearchInput = document.getElementById('searchInput');
      if (mainSearchInput) {
        mainSearchInput.value = mobileSearchInput.value;
        
        // Trigger search
        mainSearchInput.dispatchEvent(new Event('input'));
      }
    });
  }
  
  // Initialize mobile filters when menu is opened
  hamburgerMenu.addEventListener('click', syncMobileFilters);
  
  // Close mobile search when clicking outside
  document.addEventListener('click', (e) => {
    if (mobileSearch && !mobileSearch.contains(e.target) && e.target !== mobileSearchToggle) {
      mobileSearch.classList.remove('active');
    }
  });
})();
  
    </script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const nav = document.querySelector('nav');
  const ticker = document.querySelector('.ticker');
  const mobileHeader = document.querySelector('.mobile-header');
  const header = document.querySelector('.site-header') || document.querySelector('header');

  if (!nav || !ticker) return; // safety

  // Get initial positions *relative to the document*
  const navInitialTop = nav.getBoundingClientRect().top + window.scrollY;
  const mobileHeaderInitialTop = mobileHeader ? mobileHeader.getBoundingClientRect().top + window.scrollY : 0;

  // helper to recompute when window resized (nav height may change)
  function updateDims() {
    // recalc initial nav top in case layout shifted
    // (use the nav's current position relative to document top)
    dims.navTop = nav.getBoundingClientRect().top + window.scrollY;
    dims.navHeight = nav.offsetHeight;
    dims.tickerHeight = ticker.offsetHeight;
    
    // For mobile
    if (mobileHeader) {
      dims.mobileHeaderTop = mobileHeader.getBoundingClientRect().top + window.scrollY;
      dims.mobileHeaderHeight = mobileHeader.offsetHeight;
    }
  }

  const dims = { 
    navTop: navInitialTop, 
    navHeight: nav.offsetHeight, 
    tickerHeight: ticker.offsetHeight,
    mobileHeaderTop: mobileHeaderInitialTop,
    mobileHeaderHeight: mobileHeader ? mobileHeader.offsetHeight : 0
  };

  function setFixed() {
    nav.classList.add('fixed-nav');
    ticker.classList.add('fixed-ticker');
    // place ticker right under nav
    ticker.style.top = dims.navHeight + 'px';
    // add top padding to body to prevent content jump (nav + ticker heights)
    document.body.style.paddingTop = (dims.navHeight + dims.tickerHeight) + 'px';
  }

  function unsetFixed() {
    nav.classList.remove('fixed-nav');
    ticker.classList.remove('fixed-ticker');
    ticker.style.top = '';
    document.body.style.paddingTop = '';
  }
  
  function setMobileFixed() {
    if (!mobileHeader) return;
    
    mobileHeader.classList.add('fixed-nav');
    ticker.classList.add('fixed-ticker');
    // place ticker right under mobile header
    ticker.style.top = dims.mobileHeaderHeight + 'px';
    // add top padding to body to prevent content jump (mobile header + ticker heights)
    document.body.style.paddingTop = (dims.mobileHeaderHeight + dims.tickerHeight) + 'px';
  }

  function unsetMobileFixed() {
    if (!mobileHeader) return;
    
    mobileHeader.classList.remove('fixed-nav');
    ticker.classList.remove('fixed-ticker');
    ticker.style.top = '';
    document.body.style.paddingTop = '';
  }

  function onScroll() {
    // Check if we're on mobile or desktop
    const isMobile = window.innerWidth <= 768;
    
    if (isMobile && mobileHeader) {
      // If we've scrolled past the mobile header's original top point
      if (window.scrollY >= dims.mobileHeaderTop) {
        // only set fixed if not already
        if (!mobileHeader.classList.contains('fixed-nav')) setMobileFixed();
      } else {
        if (mobileHeader.classList.contains('fixed-nav')) unsetMobileFixed();
      }
    } else {
      // If we've scrolled past the nav's original top point (i.e., header gone)
      if (window.scrollY >= dims.navTop) {
        // only set fixed if not already
        if (!nav.classList.contains('fixed-nav')) setFixed();
      } else {
        if (nav.classList.contains('fixed-nav')) unsetFixed();
      }
    }
  }

  // Recompute sizes on resize and orientationchange
  window.addEventListener('resize', function() {
    // remove fixed to get accurate natural sizes
    unsetFixed();
    unsetMobileFixed();
    updateDims();
    onScroll();
  });

  // initial dims
  updateDims();
  window.addEventListener('scroll', onScroll, { passive: true });

  // run once
  onScroll();
});
</script>

<script>
document.getElementById('shareBtn').addEventListener('click', async () => {
  const shareData = {
    title: 'Stationery Mall by Ibrar Classes',
    text: 'Discover premium stationery & study items curated from Flipkart, Amazon & Meesho!',
    url: 'https://ibrarclasses.github.io/'
  };

  try {
    if (navigator.share) {
      await navigator.share(shareData);
    } else {
      navigator.clipboard.writeText(shareData.url);
      alert('üîó Link copied to clipboard! Share it with your friends.');
    }
  } catch (err) {
    console.error('Share failed:', err);
  }
});
</script>


  </script>
  
</body>
</html>
