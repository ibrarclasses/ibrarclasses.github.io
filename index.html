<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stationery Mall | Ibrar Classes</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    /* ====== BASIC / THEME ====== */
    :root {
      --primary: #3B82F6;
      --accent: #10B981;
      --nav: #052f82;
      --bg: #F0F4F8;
      --card: #ffffff;
      --text: #1F2937;
      --filter-width: 240px;
    }

    * { box-sizing: border-box; }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0; padding: 0;
      background-color: var(--bg);
      background-image: url('background-edu.png');
      background-size: cover;
      background-attachment: fixed;
      background-position: center top;
      background-repeat: no-repeat;
      color: var(--text);
      transition: background-color .4s, color .4s;
      overflow-x: hidden;
    }

   /* ====== HEADER ====== */
header {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2.5rem 1rem;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  color: #fff;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25);
  position: relative;
  overflow: hidden;
  transition: padding 280ms ease, transform 280ms ease;
}

/* üß© Container for logo + title side by side */
header .brand-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 18px;
  flex-wrap: wrap;
}

/* üõçÔ∏è Logo Styling */
header img {
  width: 130px;
  height: 130px;
  border-radius: 50%;
  object-fit: cover;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
  animation: logoPulse 3s infinite ease-in-out;
  transition: width 280ms ease, height 280ms ease;
}

/* üè∑Ô∏è Website Title */
header h1 {
  margin: 0;
  font-size: 3rem;
  font-weight: 800;
  color: #ffffff;
  letter-spacing: 1px;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
  transition: font-size 280ms ease;
}

/* üí¨ Tagline */
header p {
  margin-top: 1rem;
  font-weight: 500;
  font-size: 1.05rem;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.92);
  max-width: 780px;
}

/* ‚ú® Logo Pulse Animation */
@keyframes logoPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
  }
  50% {
    transform: scale(1.08);
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
  }
}

/* üì± Responsive Design */
@media (max-width: 768px) {
  header img { width: 95px; height: 95px; }
  header h1 { font-size: 2.2rem; }
  header p { font-size: 0.95rem; padding: 0 12px; }
}

/* Header when shrunk (mobile first-scroll behaviour) */
@media (max-width: 768px) {
  header.shrink {
    padding: 0.6rem 0.85rem;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1200;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  }
  header.shrink img {
    width: 48px !important;
    height: 48px !important;
    transition: width 280ms ease, height 280ms ease;
  }
  header.shrink h1 { font-size: 1.05rem !important; transition: font-size 280ms ease; }
}

/* mobileSearchBar default hidden (prevents duplicate showing on desktop) */
#mobileSearchBar { display: none; }

/* show mobileSearchBar only when header is shrunk on mobile */
@media (max-width: 768px) {
  body.header-shrunk #mobileSearchBar { display: block; position: fixed; top: calc(var(--header-height, 64px)); left: 0; right: 0; z-index: 1199; padding: 8px 12px; background: linear-gradient(135deg, rgba(59,130,246,0.06), rgba(16,185,129,0.04)); }
  #mobileSearchBar .search-inner { max-width: 1200px; margin: 0 auto; }
}

/* ====== NAV BAR ====== */
nav {
  background: var(--nav);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.7rem 1.5rem;
  position: sticky;
  top: 0;
  z-index: 1000;
  flex-wrap: wrap;
}

nav .left-links {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
}

nav .left-links a {
  color: white;
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  transition: color 0.3s, transform 0.2s;
}

nav .left-links a:hover {
  color: var(--accent);
  transform: scale(1.05);
}
nav .right-section {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* hamburger button - hidden on desktop */
#hamburger {
  display: none;
  border: none;
  background: transparent;
  color: white;
  font-size: 24px;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
}
#hamburger:focus { outline: 2px solid rgba(255,255,255,0.2); }

/* Premium gradient search bar styling */
#searchBarContainer {
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, #00c6ff, #0072ff);
  border-radius: 50px;
  padding: 2px;
  transition: all 0.3s ease;
}

#searchInput {
  border: none;
  outline: none;
  padding: 8px 12px;
  border-radius: 50px 0 0 50px;
  width: 150px;
  transition: all 0.3s ease;
  font-size: 0.9rem;
}

/* Expanding input when focused */
#searchInput:focus {
  width: 200px;
  background: #fff;
}

/* Gradient search button */
#searchBtn {
  border: none;
  padding: 8px 15px;
  border-radius: 0 50px 50px 0;
  cursor: pointer;
  color: white;
  font-weight: 600;
  background: linear-gradient(135deg, #0072ff, #00c6ff);
  transition: all 0.3s ease;
}

/* Button hover glow */
#searchBtn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 8px rgba(0, 198, 255, 0.6);
}

/* Smooth shadow around full bar */
#searchBarContainer:focus-within {
  box-shadow: 0 0 10px rgba(0, 198, 255, 0.7);
}

/* ===== MOBILE MENU (slides from LEFT and covers whole screen) ====== */
.mobile-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,247,250,0.98));
  box-shadow: 4px 0 30px rgba(2,6,23,0.25);
  transform: translateX(-100%);
  transition: transform 320ms cubic-bezier(.2,.9,.2,1);
  z-index: 2002;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  display: flex;
  flex-direction: column;
  padding: 18px;
}

/* menu visible */
.mobile-menu.open { transform: translateX(0); }

/* mobile menu header row */
.mobile-menu .menu-top {
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin-bottom: 12px;
}
.mobile-menu .menu-top .brand { display:flex; align-items:center; gap:10px; }
.mobile-menu .menu-top .brand img { width:56px; height:56px; border-radius:8px; object-fit:cover; }
.mobile-menu .menu-top h3 { margin:0; font-size:1.1rem; color:var(--nav); }

/* nav links inside menu */
.mobile-menu nav-links { margin-top: 10px; }
.mobile-menu .menu-links { display:flex; flex-direction:column; gap:12px; margin-top:8px; }
.mobile-menu .menu-links a { color: var(--nav); text-decoration:none; font-weight:700; font-size:1.05rem; padding:10px 8px; border-radius:8px; }
.mobile-menu .menu-links a:hover { background: rgba(59,130,246,0.06); color: var(--primary); }

/* utility buttons in menu */
.mobile-menu .menu-actions { margin-top: 14px; display:flex; flex-direction:column; gap:10px; }
.mobile-menu .menu-actions button { padding:10px 12px; border-radius:10px; border:none; font-weight:700; cursor:pointer; }
.mobile-menu .menu-actions .filter-btn { background: linear-gradient(135deg,var(--accent),var(--primary)); color:#fff; }
.mobile-menu .menu-actions .dark-btn { background: #fff; color: var(--nav); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }

/* hide desktop items on mobile and show hamburger */
@media (max-width: 768px) {
  nav .left-links { display: none; }
  /* hide the big search in nav on mobile, hamburger stays visible */
  #searchBarContainer { display: none; }
  #hamburger { display: inline-flex; }
  /* hide desktop dark toggle and live datetime on mobile (they will be placed in menu) */
  #darkModeToggle, #live-datetime { display: none; }
}

/* ====== TICKER / MOVING NOTICE (keeps your style) ====== */
.ticker { width:100%; overflow:hidden; background:linear-gradient(90deg,#2563eb,#10b981); color:white; font-weight:600; padding:8px 0; position:relative;
  border-top:2px solid rgba(255,255,255,.2); border-bottom:2px solid rgba(255,255,255,.2); box-shadow:inset 0 -3px 6px rgba(0,0,0,.1);
}
.ticker__content { display:inline-block; white-space:nowrap; position:relative; will-change:transform; }
@keyframes scrollText { from { transform: translateX(var(--start)); } to { transform: translateX(var(--end)); } }
.ticker:hover .ticker__content { animation-play-state: paused !important; }

   /* ====== LIVE DATETIME ====== */
#live-datetime {
  position: fixed;
  top: 12px;
  right: 18px;
  z-index: 1100;
  background: rgba(255, 255, 255, 0.88);
  color: #0b1220;
  padding: 7px 12px;
  border-radius: 9px;
  font-size: 13px;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12);
  backdrop-filter: blur(4px);
}

/* ====== LAYOUT: filters (left) + main (right) ====== */
.layout {
  max-width: 1200px;
  margin: 1.5rem auto;
  display: grid;
  grid-template-columns: var(--filter-width) 1fr;
  gap: 1.5rem;
  padding: 0 1rem;
}

/* Filter panel */
.filters {
  background: rgba(255,255,255,0.96);
  border-radius: 12px;
  padding: 14px;
  box-shadow: 0 6px 22px rgba(6,24,44,0.06);
  position: sticky;
  top: 84px; /* under nav/header */
  height: fit-content;
  align-self: start;
}
.filters h3 { margin: 0 0 8px 0; color: var(--nav); font-size: 1rem; }
.filter-list { display:flex; flex-direction:column; gap:8px; margin-top:8px; }
.filter-item { display:flex; align-items:center; gap:8px; }
.filter-item input[type="checkbox"] { width:16px; height:16px; }
.filter-actions { margin-top:10px; display:flex; gap:8px; }
.filter-actions button { padding:6px 10px; border-radius:8px; border:none; background:linear-gradient(135deg,var(--accent),var(--primary)); color:#fff; cursor:pointer; }

/* Main column keeps product grid and other content */
.main {
  display:flex; flex-direction:column; gap:1.5rem;
}

.container {
  padding: 1.5rem;
  background: rgba(255,255,255,0.96);
  border-radius: 14px;
  box-shadow: 0 6px 22px rgba(6,24,44,0.06);
}

h2 { text-align:center; color:var(--primary); margin-bottom:1rem; }

/* Product grid & cards (kept same look) */
.product-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:1.5rem; }
.product-card { background:white; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.1); padding:15px; text-align:center; transition:transform .2s ease; position:relative; }
.product-card:hover { transform: translateY(-5px); }
.product-card img { width:100%; height:180px; object-fit:contain; border-radius:10px; }
.price { display:block; font-weight:bold; color:#1a73e8; margin: 6px 0; }

.buy-btn { display:inline-block; background:linear-gradient(135deg,#2563eb,#3b82f6); color:#fff; font-weight:600; text-decoration:none; padding:10px 18px; border-radius:10px; box-shadow:0 4px 10px rgba(37,99,235,.3); transition:all .3s; margin-top:10px; position:relative; overflow:hidden; }
.buy-btn:hover { background:linear-gradient(135deg,#1d4ed8,#60a5fa); transform:translateY(-3px); box-shadow:0 6px 15px rgba(37,99,235,.5); }
.buy-btn::after { content:""; position:absolute; top:0; left:-100%; width:100%; height:100%; background:rgba(255,255,255,.3); transform:skewX(-20deg); transition:.5s; }
.buy-btn:hover::after { left:100%; }

/* Source tag basic style (we animate and color in JS) */
.source-tag { position:absolute; top:10px; right:10px; color:#fff; font-size:12px; font-weight:600; padding:4px 10px; border-radius:14px; }

/* ====== FOOTER ====== */
footer { background:var(--nav); color:#fff; text-align:center; padding:16px 10px; margin-top:28px; font-size:14px; }
#visitor-info { margin-top:8px; font-weight:600; }

/* ====== FLOATING UI ====== */
#molly-chat { position: fixed; bottom: 18px; right: 18px; z-index: 2000; width:72px; height:72px; border-radius:50%; background:#fff; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 26px rgba(3,10,23,.18); text-decoration:none; animation:pulse 2.5s infinite; }
.molly-avatar{ width:66px; height:66px; border-radius:50%; object-fit:cover; }

/* Back to top */
#back-to-top { position:fixed; right:18px; bottom:108px; display:none; z-index:1500; background:var(--primary); color:#fff; border:none; width:46px; height:46px; border-radius:50%; box-shadow:0 6px 20px rgba(2,6,23,.16); cursor:pointer; font-weight:700; }
#back-to-top:hover { background:var(--accent); }

/* Dark mode (preserves your variables) */
.dark-mode { --primary:#60a5fa; --accent:#34d399; --nav:#0b1220; --bg:#0b1220; --card:#071129; --text:#000000; }
/* ensure dark mode content readability for elements using hard-coded colors */
.dark-mode header, .dark-mode nav { filter: none; }
.dark-mode .container, .dark-mode .filters, .dark-mode .main { background: rgba(6,10,20,0.85); color: #e6eefc; }
.dark-mode .product-card { background: rgba(10,14,25,0.8); color: #e6eefc; }
.dark-mode .buy-btn::after { background: rgba(255,255,255,.06); }

/* ensure dark-mode toggle hidden on mobile (we provide a mobile one inside menu) */
#darkModeToggle {
  position: fixed; top: 14px; left: 14px; z-index: 2001; width:46px; height:46px; border-radius:50%; border:none; cursor:pointer;
  background: rgba(255,255,255,0.92); color:var(--nav); font-size:18px; box-shadow:0 6px 18px rgba(2,6,23,.12);
}
#darkModeToggle:hover { transform: scale(1.06); }

/* ====== RESPONSIVE ====== */
@media (max-width: 960px) {
  .layout { grid-template-columns: 1fr; padding: 0 12px; }
  .filters { position: relative; top: auto; display:none; } /* hide side filters on tablet by default */
  .filters.open { display:block; margin-bottom: 12px; } /* when toggled open */
}
@media (max-width: 420px) {
  #searchInput { display: none; } /* keep nav tidy on very small screens - only search icon shows */
  #searchBarContainer { padding:4px; }
  #searchBtn { padding:8px; }
}

/* keyframes */
@keyframes pulse { 0%{ box-shadow:0 0 0 0 rgba(16,185,129,.28);} 70% { box-shadow:0 0 0 16px rgba(16,185,129,0);} 100%{ box-shadow:0 0 0 0 rgba(16,185,129,0); } }

  /* ====== INFO SECTIONS ====== */
.info-sections {
  max-width: 1100px;
  margin: 3rem auto;
  padding: 0 1rem;
}

.info-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

.info-box {
  background: rgba(255, 255, 255, 0.96);
  border-radius: 14px;
  padding: 1.8rem;
  box-shadow: 0 6px 22px rgba(6, 24, 44, 0.06);
}

.info-box h2 {
  color: var(--primary);
  text-align: center;
  margin-bottom: 1rem;
}

.info-box p, .info-box details {
  color: var(--text);
  line-height: 1.6;
  font-size: 0.95rem;
}

.info-box details summary {
  font-weight: 600;
  cursor: pointer;
  color: var(--accent);
  margin: 0.6rem 0;
}

.info-box details p {
  margin-left: 1rem;
  margin-top: 0.5rem;
}

.dark-mode .info-box {
  background: rgba(10, 14, 25, 0.8);
  color: #e6eefc;
  box-shadow: 0 6px 22px rgba(0, 0, 0, 0.4);
}

/* ====== MOBILE PREMIUM MODE ====== */

    /* Product grid app compact style */
  .product-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    padding: 8px;
  }
  .product-card {
    border-radius: 10px;
    padding: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }
  .product-card:hover {
    transform: scale(1.02);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  }
  .product-card img {
    height: 140px;
    object-fit: contain;
  }
  .product-card h3 {
    font-size: 0.92rem;
    margin: 6px 0;
  }
  .product-card p {
    font-size: 0.78rem;
  }
  .price {
    font-size: 0.9rem;
  }
  .buy-btn {
    width: 100%;
    font-size: 0.9rem;
    padding: 9px 0;
    border-radius: 8px;
  }

   /* Info sections compact */
  .info-box {
    padding: 1.2rem;
    font-size: 0.9rem;
  }
  .info-box h2 {
    font-size: 1.1rem;
  }

  footer {
    font-size: 0.85rem;
    padding: 12px;
  }

  /* Better tap area for back-to-top and chat */
  #molly-chat {
    width: 60px;
    height: 60px;
  }
  #back-to-top {
    width: 42px;
    height: 42px;
    bottom: 90px;
  }

  /* Smooth in-app feel */
  body {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }
}
  </style>
</head>
<body>

  <!-- Live date/time -->
  <div id="live-datetime" aria-hidden="false"></div>

  <!-- Dark mode toggle (desktop) -->
  <button id="darkModeToggle" title="Toggle dark mode">üåô</button>

  <header id="siteHeader">
    <div class="brand-row">
      <img src="logost.png" alt="Stationery logo" />
      <h1>Stationery Mall üõí</h1>
    </div>
    <p>Welcome to Stationery Mall ‚Äî your ultimate destination for all your books and stationery needs.
No more endless browsing for that perfect deal ‚Äî every product here is handpicked after comparing across trusted sites,
so you get bang for your buck - everytime ‚ù§Ô∏è</p>
  </header>

  <!-- mobile search bar placeholder (will be shown under header on first scroll on mobile) -->
  <div id="mobileSearchBar" aria-hidden="true">
    <div class="search-inner" style="max-width:1200px;margin:0 auto;">
      <!-- clone of search UI for mobile (wired in JS to trigger the main search) -->
      <div id="searchBarContainerMobile" style="display:flex; align-items:center; max-width:900px; margin:0 auto;">
        <input id="searchInputMobile" type="text" placeholder="Search products..." aria-label="Search products" style="flex:1;padding:8px 12px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);" />
        <button id="searchBtnMobile" aria-label="Search" style="margin-left:8px;padding:8px 12px;border-radius:10px;background:linear-gradient(135deg,#0072ff,#00c6ff);color:#fff;border:none;font-weight:700;">üîç</button>
      </div>
    </div>
  </div>

  <nav>
    <!-- moved hamburger outside the right-section so it remains visible on mobile even when we hide the big right-section -->
    <button id="hamburger" aria-label="Open menu" aria-controls="mobileMenu" aria-expanded="false">‚ò∞</button>

    <div class="left-links">
      <a href="index.html">Home</a>
      <a href="#about">About</a>
      <a href="#faq">FAQ</a>
      <a href="#disclaimer">Disclaimer</a>
    </div>

    <div class="right-section">
      <!-- keep search bar in nav with same look; note: not prefilled (desktop) -->
      <div id="searchBarContainer" style="color:transparent;">
        <input id="searchInput" type="text" placeholder="Search products..." aria-label="Search products" />
        <button id="searchBtn" aria-label="Search">üîç</button>
      </div>
    </div>
  </nav>

  <!-- Mobile full-screen menu (slides in from left) -->
  <aside id="mobileMenu" class="mobile-menu" aria-hidden="true" role="dialog" aria-labelledby="mobileMenuTitle">
    <div class="menu-top">
      <div class="brand">
        <img src="logost.png" alt="logo" />
        <div>
          <h3 id="mobileMenuTitle">Menu</h3>
          <div style="font-size:12px;color:#334155;" id="mobileMenuSubtitle">Stationery Mall</div>
        </div>
      </div>
      <div>
        <button id="mobileMenuClose" aria-label="Close menu" style="border:none;background:transparent;font-size:20px;cursor:pointer;">‚úï</button>
      </div>
    </div>

    <!-- optional quick search inside menu -->
    <div style="margin-top:6px;">
      <div style="display:flex;gap:8px;">
        <input id="menuSearchInput" placeholder="Search products..." style="flex:1;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.08);" />
        <button id="menuSearchBtn" style="padding:10px 12px;border-radius:10px;background:linear-gradient(135deg,#0072ff,#00c6ff);color:#fff;border:none;font-weight:700;">üîç</button>
      </div>
    </div>

    <div class="menu-links" style="margin-top:16px;">
      <a href="index.html">Home</a>
      <a href="#about">About</a>
      <a href="#faq">FAQ</a>
      <a href="#disclaimer">Disclaimer</a>
    </div>

    <div class="menu-actions" style="margin-top:18px;">
      <button id="mobileFilterBtn" class="filter-btn">Filters</button>
      <button id="mobileDarkToggle" class="dark-btn">Toggle Dark</button>
      <div id="live-datetime-mobile" style="padding:8px 12px;background:rgba(0,0,0,0.03);border-radius:8px;color:#0b1220;font-weight:700;"></div>
    </div>

    <div style="flex:1"></div>

    <div style="font-size:12px;color:#64748b;padding:8px 4px;">¬© 2025 Ibrar Classes</div>
  </aside>

  <!-- Ticker -->
  <div class="ticker">
    <div class="ticker__content" id="tickerText"></div>
  </div>

  <!-- Layout: left filters + main -->
  <div class="layout">

    <!-- Filters column (left) -->
    <aside class="filters" id="filtersPanel" aria-hidden="false">
      <h3>Filters</h3>
      <div class="filter-list" id="filterList">
        <!-- checkboxes injected by JS (demo categories used) -->
      </div>
      <div class="filter-actions">
        <button id="clearFilters">Clear</button>
        <button id="saveFiltersBtn">Save</button>
      </div>
      <hr style="margin:12px 0;border:none;border-top:1px solid #eef2f7;">
    </aside>

    <!-- Main column (right) -->
    <div class="main">
      <div class="container" aria-live="polite">
        <div class="product-grid" id="productGrid"></div>
      </div>
    </div>
  </div>

  <footer>
    <!-- ====== INFO SECTIONS ====== -->
<section class="info-sections">
  <div class="info-container">
    <!-- ABOUT -->
    <div class="info-box" id="about">
      <h2>About Us</h2>
      <p>
        Stationery Mall is a brainchild of Ibrar Classes to provide students a one stop solution for all their Books and stationery needs.
        Every product listed here is carefully curated from trusted e-commerce sites to ensure
        quality, affordability, best current available prices and convenience ‚Äî all in one place.
      </p>
    </div>

    <!-- DISCLAIMER -->
    <div class="info-box" id="disclaimer">
      <h2>Disclaimer</h2>
      <p>
        Stationery Mall participates in affiliate programs from platforms such as Flipkart, Amazon, 
        and Meesho to choose and display their products here. On some products we may earn a small referral fee when you make a purchase using our links.
        Prices and availability are subject to change without notice. All product images and 
        trademarks belong to their respective owners. All the T&C regarding ordering the products, 
        returning the product lies with the original sites. 
      </p>
    </div>

    <!-- FAQ -->
    <div class="info-box" id="faq">
      <h2>Frequently Asked Questions</h2>
       <details>
        <summary>Why should I order from Stationery Mall?</summary>
        <p>You get a curated selection of stationery and study products ‚Äî already compared across top sites like Flipkart, Amazon, and Meesho ‚Äî so you always find trusted quality, best prices, and verified deals in one place without endless searching.</p>
      </details>
      <details>
        <summary>Are these products directly sold by Stationery Mall?</summary>
        <p>No. All purchases are made through trusted e-commerce sites such as Amazon, Flipkart, or Meesho.</p>
      </details>
      <details>
        <summary>Do I pay extra using your links?</summary>
        <p>Not at all! You pay the same price as you would normally ‚Äî we simply earn a small referral fee.</p>
      </details>
      <details>
        <summary>How often are the product listings updated?</summary>
        <p>Products and prices are reviewed and updated regularly to ensure you get the best available deals.</p>
      </details>
    </div>
  </div>
</section>

    <div>&copy; 2025 Ibrar Classes</div>
    <div id="visitor-info" aria-live="polite"></div>
  </footer>

  <!-- Miss Molly chat -->
  <a id="molly-chat" href="https://t.me/M1ssMolly_Bot" target="_blank" rel="noopener" title="Chat with Miss Molly">
    <img src="images/miss-molly.jpg" alt="Miss Molly" class="molly-avatar" />
  </a>

  <!-- Back to top -->
  <button id="back-to-top" aria-label="Back to top">‚Üë</button>

  <!-- ========== SCRIPTS ========== -->
  <script>
    /* ===== LIVE DATETIME ===== */
    function updateDateTime(){
      const now = new Date();
      const options = { weekday:'short', year:'numeric', month:'short', day:'numeric' };
      const dateStr = now.toLocaleDateString('en-IN', options);
      const timeStr = now.toLocaleTimeString('en-IN');
      const main = document.getElementById('live-datetime');
      const mobile = document.getElementById('live-datetime-mobile');
      const txt = `${dateStr} | ${timeStr}`;
      if(main) main.textContent = txt;
      if(mobile) mobile.textContent = txt;
    }
    updateDateTime(); setInterval(updateDateTime, 1000);

    /* ===== DARK MODE ===== */
    const darkToggle = document.getElementById('darkModeToggle');
    const mobileDarkToggle = document.getElementById('mobileDarkToggle');
    function updateDarkUI(){
      const isDark = document.documentElement.classList.contains('dark-mode');
      if(darkToggle) darkToggle.textContent = isDark? '‚òÄÔ∏è' : 'üåô';
      if(mobileDarkToggle) mobileDarkToggle.textContent = isDark? 'Light mode' : 'Dark mode';
    }
    if(localStorage.getItem('ibrar-dark') === '1'){ document.documentElement.classList.add('dark-mode'); }
    updateDarkUI();
    if(darkToggle){
      darkToggle.addEventListener('click', ()=>{
        document.documentElement.classList.toggle('dark-mode');
        const isDark = document.documentElement.classList.contains('dark-mode');
        localStorage.setItem('ibrar-dark', isDark? '1':'0');
        updateDarkUI();
      });
    }
    if(mobileDarkToggle){
      mobileDarkToggle.addEventListener('click', ()=>{
        document.documentElement.classList.toggle('dark-mode');
        const isDark = document.documentElement.classList.contains('dark-mode');
        localStorage.setItem('ibrar-dark', isDark? '1':'0');
        updateDarkUI();
      });
    }

    /* ===== FAKE VISITOR COUNT (50-100) ===== */
    (function visitorCounter(){
      const KEY_COUNT='ibrar_visitors', KEY_RESET='ibrar_visitors_reset';
      const resetDays = 30; const now = Date.now();
      const lastReset = localStorage.getItem(KEY_RESET);
      let count = parseInt(localStorage.getItem(KEY_COUNT),10);
      function randomInRange(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
      if(!lastReset || (now - lastReset) > resetDays*24*60*60*1000){
        count = randomInRange(51,98); localStorage.setItem(KEY_COUNT,count); localStorage.setItem(KEY_RESET,now);
      } else {
        if(!count || isNaN(count)){ count = randomInRange(51,98); localStorage.setItem(KEY_COUNT,count); }
        const inc = Math.random()<0.35?0:Math.random()<0.6?1:2; count = Math.min(98,count+inc); localStorage.setItem(KEY_COUNT,count);
      }
      const getActiveUsers = ()=> randomInRange(5,13);
      function renderVisitor(){
        const date = new Date().toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'});
        const active = getActiveUsers();
        document.getElementById('visitor-info').innerHTML = `Visitors this month: <strong>${count}</strong> &nbsp; | &nbsp; Last updated: <strong>${date}</strong> &nbsp; | &nbsp; Active users: <strong>${active}</strong>`;
      }
      renderVisitor();
      setInterval(()=>{
        if(Math.random() < 0.45){ count = Math.min(98, count + (Math.random()<0.6?1:0)); localStorage.setItem(KEY_COUNT,count); }
        renderVisitor();
      },8000);
    })();

    /* ===== BACK TO TOP ===== */
    const backBtn = document.getElementById('back-to-top');
    window.addEventListener('scroll', ()=>{ backBtn.style.display = window.scrollY > 300 ? 'block' : 'none'; });
    backBtn.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    /* ===== TICKER (keeps your working implementation) ===== */
    (function initTicker(){
      const messages = [
        "üõí These products are affiliate links from trusted sites like Flipkart, Amazon or Meesho.",
        "üì¶ The products are updated regularly for better deals and prices.",
        "‚ù§Ô∏è Handpicked products, curated list, you pay nothing extra, we get small referral fee. Win-Win ‚≠ê",
        "üîç Use the Search Bar to find the products quickly",
        "üí° Any feedbacks/Suggestions/Queries? Leave with Miss Molly ‚≠ê",
      ];
      const tickerText = document.getElementById("tickerText");
      const container = document.querySelector(".ticker");
      let current = 0; let timerId = null;
      const SPEED_PX_PER_SEC = 120;

      function showNextMessage(){
        if(timerId){ clearTimeout(timerId); timerId = null; }
        tickerText.textContent = messages[current];
        requestAnimationFrame(()=>{
          const textW = tickerText.offsetWidth, containerW = container.clientWidth;
          const startPx = containerW; const endPx = -textW;
          const distance = Math.abs(endPx - startPx);
          const durationMs = Math.max(4000, Math.round((distance / SPEED_PX_PER_SEC) * 1000));
          tickerText.style.setProperty('--start', startPx + 'px');
          tickerText.style.setProperty('--end', endPx + 'px');
          tickerText.style.animation = 'none'; void tickerText.offsetWidth;
          tickerText.style.animation = `scrollText ${durationMs}ms linear forwards`;
          const gapAfter = ((current+1) % messages.length === 0) ? 15000 : 5000;
          timerId = setTimeout(()=>{ current = (current+1)%messages.length; showNextMessage(); }, durationMs + gapAfter);
        });
      }
      showNextMessage();
      tickerText.parentElement.addEventListener('mouseenter', ()=> { tickerText.style.animationPlayState='paused'; });
      tickerText.parentElement.addEventListener('mouseleave', ()=> { tickerText.style.animationPlayState='running'; });
    })();

    /* ====== PRODUCT LOADING, SEARCH, FILTERS (single combined robust script) ====== */
    (function productModule(){
      const PRODUCTS_JSON = 'products.json?v=' + new Date().getTime();
      const grid = document.getElementById('productGrid');
      const searchInput = document.getElementById('searchInput');
      const searchBtn = document.getElementById('searchBtn');
      const filterListEl = document.getElementById('filterList');
      const filtersPanel = document.getElementById('filtersPanel');
      const clearBtn = document.getElementById('clearFilters');
      const saveBtn = document.getElementById('saveFiltersBtn');

      // demo categories (you can edit later). We'll also add any categories found in products.
      const demoCategories = ['Pens','Notebooks','Books','Accessories','Gadgets','Table Decors'];
      let products = [];      // full list
      let activeFilters = JSON.parse(localStorage.getItem('ibrar_filters') || '[]'); // array of selected category names

      // Utility: extract source from URL
      function detectSource(url){
        if(!url) return '';
        const u = url.toLowerCase();
        if(u.includes('amzn') || u.includes('amazon')) return 'Amazon';
        if(u.includes('flipkart')) return 'Flipkart';
        if(u.includes('meesho')) return 'Meesho';
        return '';
      }

      // Build filter UI (prefers categories found in products, else demo)
      function buildFilterUI(categories){
        filterListEl.innerHTML = '';
        categories.forEach(cat=>{
          const id = 'filter_' + cat.replace(/\s+/g,'_').toLowerCase();
          const wrapper = document.createElement('label');
          wrapper.className = 'filter-item';
          wrapper.innerHTML = `<input type="checkbox" id="${id}" value="${cat}" ${activeFilters.includes(cat) ? 'checked' : ''} /> <span>${cat}</span>`;
          filterListEl.appendChild(wrapper);
          wrapper.querySelector('input').addEventListener('change', () => {
            syncFiltersFromUI();
            applyFiltersAndSearch();
          });
        });
      }

      function syncFiltersFromUI(){
        const checked = Array.from(filterListEl.querySelectorAll('input[type="checkbox"]:checked')).map(i=>i.value);
        activeFilters = checked;
        localStorage.setItem('ibrar_filters', JSON.stringify(activeFilters));
      }

      // display products (list = filtered list)
      function displayProducts(list){
        grid.innerHTML = '';
        if(!list || list.length === 0){
          grid.innerHTML = '<p style="grid-column:1/-1;text-align:center;color:#475569">No items found.</p>';
          return;
        }
        list.forEach(p=>{
          const card = document.createElement('div'); card.className = 'product-card';
          card.style.position = 'relative';

          const source = detectSource(p.link) || (p.source || '');
          // image with lazy loading and fallback
          const safeImage = p.image ? p.image : 'fallback.jpg';
          card.innerHTML = `
            <img src="${safeImage}" alt="${(p.title||'Stationery Product')}" loading="lazy" onerror="this.src='fallback.jpg';this.alt='Image not available';">
            <h3>${p.title || ''}</h3>
            <p style="color:#475569">${p.desc || ''}</p>
            <span class="price">${p.price || ''}</span>
            <a href="${p.link || '#'}" target="_blank" class="buy-btn" rel="nofollow noopener noreferrer">Buy Now</a>
          `;

          // Add source tag if available (animated & colored)
          if(source){
            const tag = document.createElement('div'); tag.className = 'source-tag'; tag.textContent = source;
            // color map
            const colors = { Amazon: '#FFD700', Flipkart:'#2874F0', Meesho:'#E91E63' };
            const col = colors[source] || '#444';
            // tag base style ‚Äî keep text white for visibility
            tag.style.background = col;
            tag.style.color = '#fff';
            tag.style.fontSize = '12px';
            tag.style.fontWeight = '600';
            tag.style.padding = '4px 10px';
            tag.style.borderRadius = '14px';
            tag.style.boxShadow = '0 2px 6px rgba(0,0,0,0.25)';
            tag.style.opacity = '0';
            tag.style.transform = 'translateY(-6px)';
            tag.style.transition = 'all .35s ease';
            tag.style.pointerEvents = 'none';

            // add per-platform pulse via dynamic style (uses colored glow)
            const keyframesName = 'tagPulse_' + source.toLowerCase();
            // if the keyframe does not exist yet, add it
            if(!document.getElementById('kf_' + keyframesName)){
              const styleEl = document.createElement('style');
              styleEl.id = 'kf_' + keyframesName;
              const rgba = hexToRgba(col, 0.6);
              styleEl.innerHTML = `
                @keyframes ${keyframesName} {
                  0%,100%{ box-shadow: 0 2px 6px rgba(0,0,0,0.25); transform: scale(1); }
                  50% { box-shadow: 0 0 14px 4px ${rgba}; transform: scale(1.05); }
                }
              `;
              document.head.appendChild(styleEl);
            }
            tag.style.animation = keyframesName + ' 4s infinite ease-in-out';
            card.appendChild(tag);
            // animate in
            requestAnimationFrame(()=> setTimeout(()=>{ tag.style.opacity='1'; tag.style.transform='translateY(0)'; },120));
          }

          grid.appendChild(card);
        });
      }

      // helper: hex to rgba
      function hexToRgba(hex, a){
        hex = hex.replace('#','');
        if(hex.length === 3) hex = hex.split('').map(h=>h+h).join('');
        const r = parseInt(hex.slice(0,2),16), g = parseInt(hex.slice(2,4),16), b = parseInt(hex.slice(4,6),16);
        return `rgba(${r},${g},${b},${a})`;
      }

      // apply the filters + search
      function applyFiltersAndSearch(){
        const qEl = document.getElementById('searchInput');
        const q = (qEl && (qEl.value || '') ).toLowerCase().trim();
        let list = products.slice(); // copy

        // filter by categories if any selected (assume product.category or product.tags contains)
        if(activeFilters && activeFilters.length){
          list = list.filter(p => {
            // prefer explicit p.category
            if(p.category){
              return activeFilters.includes(p.category);
            }
            // fallback: check tags array or title/desc for category words
            if(Array.isArray(p.tags)){
              return p.tags.some(t => activeFilters.includes(t));
            }
            // last fallback: check title/desc contains any filter word
            return activeFilters.some(f => {
              const fl = f.toLowerCase();
              return (p.title && p.title.toLowerCase().includes(fl)) || (p.desc && p.desc.toLowerCase().includes(fl));
            });
          });
        }

        // apply search query
        if(q){
          list = list.filter(p => (p.title && p.title.toLowerCase().includes(q)) || (p.desc && p.desc.toLowerCase().includes(q)));
        }

        displayProducts(list);
      }

      // Search events (live)
      if(searchInput){
        searchInput.addEventListener('input', () => {
          applyFiltersAndSearch();
        });
        searchInput.addEventListener('keyup', (e)=>{
          if(e.key === 'Enter') applyFiltersAndSearch();
        });
      }
      if(searchBtn) searchBtn.addEventListener('click', applyFiltersAndSearch);

      // clear & save filter buttons
      clearBtn.addEventListener('click', ()=>{
        activeFilters = []; localStorage.removeItem('ibrar_filters');
        const boxes = filterListEl.querySelectorAll('input[type="checkbox"]'); boxes.forEach(b=>b.checked=false);
        applyFiltersAndSearch();
      });
      saveBtn.addEventListener('click', ()=> { localStorage.setItem('ibrar_filters', JSON.stringify(activeFilters)); alert('Filters saved locally.'); });

      // Build filters from demo + product categories (if any)
      function computeCategoriesFromProducts(prodList){
        const set = new Set(demoCategories);
        prodList.forEach(p=>{
          if(p.category) set.add(p.category);
          if(Array.isArray(p.tags)) p.tags.forEach(t => set.add(t));
        });
        return Array.from(set);
      }

      // fetch products.json and initialize UI
      async function init(){
        try {
          const res = await fetch(PRODUCTS_JSON);
          products = await res.json();
          // compute categories
          const cats = computeCategoriesFromProducts(products);
          buildFilterUI(cats);
          // initial display uses saved filters and blank search
          applyFiltersAndSearch();
        } catch(err){
          console.error('Error loading products:', err);
          grid.innerHTML = `<p style="text-align:center;color:red">‚ö†Ô∏è Failed to load products, please refresh the page.</p>`;
        }
      }

      init();

      // expose small helper for other scripts if needed
      window.ibrarProductsRefresh = applyFiltersAndSearch;

    })();

    /* ====== FILTERS PANEL TOGGLE ON MOBILE ====== */
    (function mobileFilterToggle(){
      const filtersPanel = document.getElementById('filtersPanel');
      const mobileFilterBtn = document.getElementById('mobileFilterBtn');

      if(mobileFilterBtn){
        mobileFilterBtn.addEventListener('click', ()=>{
          if(window.innerWidth <= 960){
            filtersPanel.classList.toggle('open');
            closeMobileMenu();
          } else {
            filtersPanel.classList.toggle('open');
          }
        });
      }
    })();

    /* ===== MOBILE MENU OPEN/CLOSE & FIRST-SCROLL HEADER SHRINK ===== */
    (function mobileMenuAndHeader(){
      const hamburger = document.getElementById('hamburger');
      const mobileMenu = document.getElementById('mobileMenu');
      const mobileClose = document.getElementById('mobileMenuClose');
      const menuSearchInput = document.getElementById('menuSearchInput');
      const menuSearchBtn = document.getElementById('menuSearchBtn');

      function openMobileMenu(){
        if(!mobileMenu) return;
        mobileMenu.classList.add('open');
        mobileMenu.setAttribute('aria-hidden','false');
        if(hamburger) hamburger.setAttribute('aria-expanded','true');
        setTimeout(()=> mobileClose && mobileClose.focus(), 150);
        document.documentElement.style.overflow = 'hidden';
      }
      function closeMobileMenu(){
        if(!mobileMenu) return;
        mobileMenu.classList.remove('open');
        mobileMenu.setAttribute('aria-hidden','true');
        if(hamburger) hamburger.setAttribute('aria-expanded','false');
        document.documentElement.style.overflow = '';
        if(hamburger) hamburger.focus();
      }

      if(hamburger) hamburger.addEventListener('click', openMobileMenu);
      if(mobileClose) mobileClose.addEventListener('click', closeMobileMenu);

      // close with Escape
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape'){
          if(mobileMenu && mobileMenu.classList.contains('open')) closeMobileMenu();
        }
      });

      // wire the quick search inside menu to use the main search input
      const mainSearchInput = document.getElementById('searchInput');
      const mainSearchBtn = document.getElementById('searchBtn');
      if(menuSearchInput && mainSearchInput){
        menuSearchInput.addEventListener('input', ()=> {
          mainSearchInput.value = menuSearchInput.value;
          mainSearchInput.dispatchEvent(new Event('input', { bubbles: true }));
        });
        menuSearchInput.addEventListener('keyup', (e)=> {
          if(e.key === 'Enter') {
            mainSearchBtn && mainSearchBtn.click();
          }
        });
      }
      if(menuSearchBtn && mainSearchBtn){
        menuSearchBtn.addEventListener('click', ()=> {
          mainSearchInput.value = menuSearchInput.value;
          mainSearchBtn.click();
        });
      }

      // wire mobile inline search bar
      const searchInputMobile = document.getElementById('searchInputMobile');
      const searchBtnMobile = document.getElementById('searchBtnMobile');
      if(searchInputMobile && mainSearchInput){
        searchInputMobile.addEventListener('input', ()=> {
          mainSearchInput.value = searchInputMobile.value;
          mainSearchInput.dispatchEvent(new Event('input', { bubbles: true }));
        });
        searchInputMobile.addEventListener('keyup', (e)=> {
          if(e.key === 'Enter') mainSearchBtn && mainSearchBtn.click();
        });
      }
      if(searchBtnMobile && mainSearchBtn){
        searchBtnMobile.addEventListener('click', ()=> {
          mainSearchInput.value = (searchInputMobile.value || '');
          mainSearchBtn.click();
        });
      }

      // first-scroll shrink behaviour (mobile only) - improved: trigger when user scrolls past half the header
      let shrunk = false;
      const header = document.getElementById('siteHeader');
      const mobileSearchBar = document.getElementById('mobileSearchBar');

      function tryShrink(){
        if(shrunk) return;
        if(window.innerWidth > 768) return; // mobile-only
        const triggerY = Math.round(header.getBoundingClientRect().height * 0.5);
        if(window.scrollY > triggerY){
          shrunk = true;
          header.classList.add('shrink');
          document.body.classList.add('header-shrunk');

          // let CSS apply, then compute actual header height for correct placement
          requestAnimationFrame(()=> {
            requestAnimationFrame(()=> {
              const h = header.getBoundingClientRect().height;
              document.body.style.setProperty('--header-height', h + 'px');
              if(mobileSearchBar) mobileSearchBar.setAttribute('aria-hidden','false');
              // push the layout content down to avoid overlap
              const layout = document.querySelector('.layout');
              if(layout) layout.style.paddingTop = (h + (mobileSearchBar ? mobileSearchBar.getBoundingClientRect().height : 0)) + 'px';
            });
          });

          // remove listener: we only want it to happen once per page load as requested
          window.removeEventListener('scroll', tryShrink);
        }
      }

      // attach as non-passive since we may remove it quickly (still lightweight)
      window.addEventListener('scroll', tryShrink, { passive: true });

      // ensure reset on resize to desktop
      window.addEventListener('resize', ()=>{
        if(window.innerWidth > 768){
          shrunk = false;
          if(header) header.classList.remove('shrink');
          document.body.classList.remove('header-shrunk');
          document.body.style.removeProperty('--header-height');
          const layout = document.querySelector('.layout');
          if(layout) layout.style.paddingTop = '';
          if(mobileSearchBar) mobileSearchBar.setAttribute('aria-hidden','true');
          closeMobileMenu();
        }
      });

      // expose closeMobileMenu
      window.closeMobileMenu = closeMobileMenu;
    })();

    /* ====== misc placement helper (if any programmatic toggle was added earlier) ====== */
    (function ensureFilterTogglePlacement(){
      const ft = document.getElementById('filtersToggle');
      function update(){
        if(!ft) return;
        if(window.innerWidth <= 768) {
          ft.style.display = 'none';
        } else {
          ft.style.display = 'inline-block';
        }
      }
      update();
      window.addEventListener('resize', update);
    })();

  </script>
  
</body>
</html>
